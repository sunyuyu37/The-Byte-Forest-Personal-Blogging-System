/* empty css             *//* empty css                  *//* empty css               */import{r as a,p as s,c as e,a as t,Q as l,I as i,K as r,P as d,a6 as n,ay as c,al as o,o as u,u as v,D as m,O as p,H as y,M as g}from"./vue-B9wWIsxR.js";import{r as h,j as f,E as _,w as k,ad as j,n as w,e as C,U as x,C as D}from"./element-plus-CXASJE3V.js";import{a as b}from"./article-Pn5uYJFo.js";import{_ as z}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-di9GIa25.js";import"./utils-C28rWPR3.js";const A={class:"life-essays"},E={class:"page-header"},I={class:"container"},S={class:"header-content"},H={class:"header-icon"},L={class:"articles-section"},M={class:"container"},O={class:"diary-timeline"},P=["onClick"],$={class:"diary-date-marker"},B={class:"date-circle"},K={class:"date-day"},N={class:"date-month"},Q={class:"diary-card"},T={class:"diary-header"},U={class:"diary-meta"},q={class:"diary-time"},F={key:0,class:"diary-weather"},G={class:"diary-content"},J={class:"diary-title"},R={class:"diary-excerpt"},V={key:0,class:"diary-image"},W=["src","alt"],X={key:0,class:"image-caption"},Y={class:"diary-tags"},Z={class:"diary-footer"},aa={class:"diary-author"},sa=["src","alt"],ea={class:"author-info"},ta={class:"author-name"},la={class:"author-feeling"},ia={class:"diary-stats"},ra={class:"stat-item"},da={class:"stat-item"},na={key:0,class:"load-more"},ca={key:1,class:"empty-state"},oa=z({__name:"LifeEssays",setup(z){const oa=c(),ua=a([]),va=a(!1),ma=a(!0),pa=a(1),ya=async()=>{va.value=!0;try{const a=await b.getArticlesByCategory("life",{page:pa.value-1,size:10});200===a.code?(1===pa.value?ua.value=a.data.content||[]:ua.value.push(...a.data.content||[]),ma.value=!a.data.last):_.error(a.message||"加载文章失败")}catch(a){_.error("加载文章失败")}finally{va.value=!1}},ga=()=>{pa.value++,ya()},ha=a=>["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"][new Date(a).getMonth()],fa=a=>new Date(a).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});s(()=>{ya()});const _a=a=>{a.target.src="/vite.svg"},ka=a=>{a.target.src="/vite.svg"};return(a,s)=>{const c=h,_=o("Smile"),b=C,z=o("Heart"),pa=f;return u(),e("div",A,[t("div",E,[t("div",I,[t("div",S,[t("div",H,[l(c,null,{default:i(()=>[l(v(k))]),_:1})]),s[0]||(s[0]=t("div",{class:"header-text"},[t("h1",{class:"page-title"},"生活随笔"),t("p",{class:"page-subtitle"},"记录生活点滴，分享人生感悟")],-1))])])]),t("div",L,[t("div",M,[t("div",O,[(u(!0),e(d,null,n(ua.value,(a,s)=>{return u(),e("article",{key:a.id,class:m(["diary-entry",{"diary-left":s%2==0,"diary-right":s%2==1}]),onClick:s=>{return e=a.slug,void oa.push(`/life-essays/${e}`);var e}},[t("div",$,[t("div",B,[t("span",K,p((h=a.createdAt,new Date(h).getDate().toString().padStart(2,"0"))),1),t("span",N,p(ha(a.createdAt)),1)])]),t("div",Q,[t("div",T,[t("div",U,[t("div",q,[l(c,null,{default:i(()=>[l(v(j))]),_:1}),t("span",null,p(fa(a.createdAt)),1)]),a.weather?(u(),e("div",F,[l(c,null,{default:i(()=>[l(v(w))]),_:1}),t("span",null,p(a.weather),1)])):r("",!0),t("div",{class:m(["diary-mood",`mood-${a.mood||"happy"}`])},[l(c,null,{default:i(()=>[l(_)]),_:1}),t("span",null,p((o=a.mood,{happy:"开心",sad:"难过",excited:"兴奋",calm:"平静",thoughtful:"沉思",grateful:"感恩",nostalgic:"怀念"}[o]||"平静")),1)],2)])]),t("div",G,[t("h3",J,p(a.title),1),t("div",R,p(a.excerpt),1),a.coverImage?(u(),e("div",V,[t("img",{src:a.coverImage,alt:a.title,onError:_a},null,40,W),a.imageCaption?(u(),e("div",X,p(a.imageCaption),1)):r("",!0)])):r("",!0),t("div",Y,[(u(!0),e(d,null,n(a.tags,a=>{return u(),y(b,{key:a.id,size:"small",type:(s=a.name,{"生活":"success","感悟":"info","旅行":"warning","美食":"danger","读书":"primary","电影":"info","音乐":"success"}[s]||"info"),effect:"plain",round:""},{default:i(()=>[g(p(a.name),1)]),_:2},1032,["type"]);var s}),128))])]),t("div",Z,[t("div",aa,[t("img",{src:a.author.avatar,alt:a.author.name,class:"diary-avatar",onError:ka},null,40,sa),t("div",ea,[t("span",ta,p(a.author.name),1),t("span",la,p(a.author.feeling||"记录生活"),1)])]),t("div",ia,[t("span",ra,[l(c,null,{default:i(()=>[l(z)]),_:1}),g(" "+p(a.likes),1)]),t("span",da,[l(c,null,{default:i(()=>[l(v(x))]),_:1}),g(" "+p(a.comments),1)])])])])],10,P);var o,h}),128))]),ma.value?(u(),e("div",na,[l(pa,{type:"primary",size:"large",loading:va.value,onClick:ga},{default:i(()=>s[1]||(s[1]=[g(" 加载更多 ",-1)])),_:1,__:[1]},8,["loading"])])):r("",!0),va.value||0!==ua.value.length?r("",!0):(u(),e("div",ca,[l(c,{class:"empty-icon"},{default:i(()=>[l(v(D))]),_:1}),s[2]||(s[2]=t("h3",null,"暂无生活随笔",-1)),s[3]||(s[3]=t("p",null,"期待更多温暖的生活故事",-1))]))])])])}}},[["__scopeId","data-v-4a22b3de"]]);export{oa as default};
