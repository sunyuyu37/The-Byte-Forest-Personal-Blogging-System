/* empty css             *//* empty css               *//* empty css                  */import{r as a,b as s,p as e,c as t,a as l,Q as i,I as n,P as o,a6 as c,K as r,ay as u,o as d,u as p,M as v,O as m,D as g,H as f,V as y}from"./vue-B9wWIsxR.js";import{r as _,j as k,E as h,A as C,al as b,ad as z,M as j,am as w,e as I,a5 as x,F as A,U as P}from"./element-plus-CXASJE3V.js";import{a as E}from"./article-Pn5uYJFo.js";import{b as D}from"./placeholder-Cbo4Yzwr.js";import{_ as M}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-di9GIa25.js";import"./utils-C28rWPR3.js";const $={class:"competition-events"},O={class:"page-header"},S={class:"container"},B={class:"header-content"},F={class:"header-icon"},H={class:"filter-section"},K={class:"container"},L={class:"filter-tabs"},N={class:"events-section"},Q={class:"container"},U={class:"competition-showcase"},V=["onClick"],q={class:"competition-status-badge"},G={class:"status-text"},J={class:"competition-poster"},R=["src","alt"],T={class:"poster-overlay"},W={class:"poster-header"},X={key:0,class:"prize-highlight"},Y={class:"poster-title"},Z={class:"competition-info"},aa={class:"competition-description"},sa={class:"key-info"},ea={class:"info-row"},ta={class:"info-item"},la={class:"info-content"},ia={class:"value"},na={class:"info-item"},oa={class:"info-content"},ca={class:"value"},ra={class:"info-row"},ua={class:"info-item"},da={class:"info-content"},pa={class:"value"},va={key:0,class:"info-item"},ma={class:"info-content"},ga={class:"value"},fa={class:"competition-tags"},ya={class:"competition-footer"},_a={class:"competition-stats"},ka={class:"stat-item"},ha={class:"stat-item"},Ca={class:"stat-item"},ba={class:"action-button"},za={key:0,class:"load-more"},ja={key:1,class:"empty-state"},wa=M({__name:"CompetitionEvents",setup(M){const wa=u(),Ia=a([]),xa=a(!1),Aa=a(!0),Pa=a(1),Ea=a("all"),Da=[{value:"all",label:"全部活动"},{value:"registration",label:"报名中"},{value:"ongoing",label:"进行中"},{value:"ended",label:"已结束"}];D("ACM Contest",300,200,"#f56c6c"),D("AI Challenge",300,200,"#409eff");const Ma=s(()=>"all"===Ea.value?Ia.value:Ia.value.filter(a=>a.status===Ea.value)),$a=async()=>{xa.value=!0;try{const a=await E.getArticlesByCategory("contest",{page:Pa.value-1,size:10});if(200===a.code){const s=(a.data.content||[]).map(a=>{var s;return{id:a.id,title:a.title,description:a.summary,coverImage:a.coverImage,slug:a.slug,status:"registration",type:"programming",views:a.viewCount||0,likes:a.likeCount||0,comments:a.commentCount||0,organizer:(null==(s=a.author)?void 0:s.nickname)||"主办方",tags:a.tags||[]}});1===Pa.value?Ia.value=s:Ia.value.push(...s),Aa.value=!a.data.last}else h.error(a.message||"加载活动失败")}catch(a){h.error("加载活动失败")}finally{xa.value=!1}},Oa=()=>{Pa.value++,$a()},Sa=a=>new Date(a).toLocaleDateString("zh-CN",{month:"short",day:"numeric"}),Ba=a=>({"算法":"primary","C++":"success","数据结构":"info","人工智能":"warning","机器学习":"danger","深度学习":"primary","编程":"success","设计":"warning","创新":"info"}[a]||"default"),Fa=a=>{a.target.src="/vite.svg"};return e(()=>{$a()}),(a,s)=>{const e=_,u=k,h=I;return d(),t("div",$,[l("div",O,[l("div",S,[l("div",B,[l("div",F,[i(e,null,{default:n(()=>[i(p(C))]),_:1})]),s[0]||(s[0]=l("div",{class:"header-text"},[l("h1",{class:"page-title"},"竞赛活动"),l("p",{class:"page-subtitle"},"参与竞赛，展示才华，赢取荣誉")],-1))])])]),l("div",H,[l("div",K,[l("div",L,[(d(),t(o,null,c(Da,a=>i(u,{key:a.value,type:Ea.value===a.value?"primary":"",onClick:s=>(a=>{Ea.value=a,Pa.value=1,$a()})(a.value),class:"filter-btn"},{default:n(()=>[v(m(a.label),1)]),_:2},1032,["type","onClick"])),64))])])]),l("div",N,[l("div",Q,[l("div",U,[(d(!0),t(o,null,c(Ma.value,a=>{return d(),t("article",{key:a.id,class:g(["competition-card",`status-${a.status}`]),onClick:s=>{return e=a.slug,void wa.push(`/competition-events/${e}`);var e}},[l("div",q,[l("span",G,m((k=a.status,{registration:"报名中",ongoing:"进行中",ended:"已结束"}[k]||"未知")),1)]),l("div",J,[l("img",{src:a.coverImage||"/default-competition.jpg",alt:a.title,onError:Fa},null,40,R),l("div",T,[l("div",W,[l("div",{class:g(["competition-type",`type-${a.type}`])},m((_=a.type,{programming:"编程竞赛",ai:"AI竞赛",design:"设计竞赛",innovation:"创新竞赛"}[_]||"其他")),3),a.prizePool?(d(),t("div",X,[i(e,null,{default:n(()=>[i(p(C))]),_:1}),l("span",null,m(a.prizePool),1)])):r("",!0)]),l("div",Y,[l("h3",null,m(a.title),1)])])]),l("div",Z,[l("div",aa,m(a.description),1),l("div",sa,[l("div",ea,[l("div",ta,[i(e,null,{default:n(()=>[i(p(b))]),_:1}),l("div",la,[s[1]||(s[1]=l("span",{class:"label"},"报名截止",-1)),l("span",ia,m(Sa(a.registrationEnd)),1)])]),l("div",na,[i(e,null,{default:n(()=>[i(p(z))]),_:1}),l("div",oa,[s[2]||(s[2]=l("span",{class:"label"},"比赛时间",-1)),l("span",ca,m(Sa(a.competitionStart)),1)])])]),l("div",ra,[l("div",ua,[i(e,null,{default:n(()=>[i(p(j))]),_:1}),l("div",da,[s[3]||(s[3]=l("span",{class:"label"},"参赛人数",-1)),l("span",pa,m(a.participants)+"/"+m(a.maxParticipants||"∞"),1)])]),a.organizer?(d(),t("div",va,[i(e,null,{default:n(()=>[i(p(w))]),_:1}),l("div",ma,[s[4]||(s[4]=l("span",{class:"label"},"主办方",-1)),l("span",ga,m(a.organizer),1)])])):r("",!0)])]),l("div",fa,[(d(!0),t(o,null,c(a.tags,a=>(d(),f(h,{key:a.id,size:"small",type:Ba(a.name)},{default:n(()=>[v(m(a.name),1)]),_:2},1032,["type"]))),128))]),l("div",ya,[l("div",_a,[l("span",ka,[i(e,null,{default:n(()=>[i(p(x))]),_:1}),v(" "+m(a.views),1)]),l("span",ha,[i(e,null,{default:n(()=>[i(p(A))]),_:1}),v(" "+m(a.likes),1)]),l("span",Ca,[i(e,null,{default:n(()=>[i(p(P))]),_:1}),v(" "+m(a.comments),1)])]),l("div",ba,["registration"===a.status?(d(),f(u,{key:0,type:"primary",size:"large",onClick:y(s=>{a.id},["stop"])},{default:n(()=>s[5]||(s[5]=[v(" 立即报名 ",-1)])),_:2,__:[5]},1032,["onClick"])):"ongoing"===a.status?(d(),f(u,{key:1,type:"warning",size:"large",onClick:y(s=>{a.id},["stop"])},{default:n(()=>s[6]||(s[6]=[v(" 查看进度 ",-1)])),_:2,__:[6]},1032,["onClick"])):"ended"===a.status?(d(),f(u,{key:2,type:"info",size:"large",onClick:y(s=>{a.id},["stop"])},{default:n(()=>s[7]||(s[7]=[v(" 查看结果 ",-1)])),_:2,__:[7]},1032,["onClick"])):r("",!0)])])])],10,V);var _,k}),128))]),Aa.value?(d(),t("div",za,[i(u,{type:"primary",size:"large",loading:xa.value,onClick:Oa},{default:n(()=>s[8]||(s[8]=[v(" 加载更多 ",-1)])),_:1,__:[8]},8,["loading"])])):r("",!0),xa.value||0!==Ma.value.length?r("",!0):(d(),t("div",ja,[i(e,{class:"empty-icon"},{default:n(()=>[i(p(C))]),_:1}),s[9]||(s[9]=l("h3",null,"暂无竞赛活动",-1)),s[10]||(s[10]=l("p",null,"期待更多精彩的竞赛活动",-1))]))])])])}}},[["__scopeId","data-v-391d64a9"]]);export{wa as default};
