import{_ as V,r as g,o as B,b as _,d as e,M as E,e as a,w as o,j as $,g as x,E as M,N as T,O as D,Q as w,k as Y,l as v,G as p,n as F,h as d,et as K,c$ as j,bc as q,s as H,H as f,a7 as L,L as P,ac as z}from"./index-Da7ZqcH5.js";const G={class:"not-found-page"},Q={class:"not-found-container"},R={class:"error-content"},U={class:"error-actions"},J={class:"search-section"},W={class:"popular-articles"},X={class:"article-list"},Z=["onClick"],I={class:"article-title"},S={class:"article-meta"},O={class:"view-count"},ss={class:"publish-date"},es={__name:"NotFound",setup(ts){const i=Y(),u=g(""),c=g([]),h=()=>{i.push("/")},y=()=>{window.history.length>1?i.go(-1):h()},k=()=>{window.location.reload()},m=()=>{if(!u.value.trim()){P.warning("请输入搜索关键词");return}i.push({path:"/search",query:{q:u.value.trim()}})},C=async t=>{var s;if(t)if(/^\d+$/.test(String(t)))try{const r=(s=(await w.getArticleById(t)).data)==null?void 0:s.slug;i.push(`/article/${r||t}`)}catch{i.push(`/article/${t}`)}else i.push(`/article/${t}`)},b=t=>z(t).format("YYYY-MM-DD"),A=async()=>{try{const t=await w.getPopularArticles({page:0,size:5});t.code===200&&t.data&&t.data.content?c.value=t.data.content.map(s=>({id:s.id,title:s.title,viewCount:s.viewCount,publishTime:s.publishedAt||s.publishTime})):c.value=[]}catch(t){console.error("加载热门文章失败:",t),c.value=[]}};return B(()=>{A()}),(t,s)=>{const l=F,r=$,N=M;return v(),_("div",G,[e("div",Q,[s[9]||(s[9]=e("div",{class:"error-illustration"},[e("div",{class:"error-code"},"404"),e("div",{class:"error-message"},"页面未找到")],-1)),e("div",R,[s[6]||(s[6]=e("h2",null,"抱歉，您访问的页面不存在",-1)),s[7]||(s[7]=e("p",{class:"error-description"}," 可能是网址输入错误，或者该页面已被删除或移动。 ",-1)),e("div",U,[a(r,{type:"primary",onClick:h},{default:o(()=>[a(l,null,{default:o(()=>[a(d(K))]),_:1}),s[1]||(s[1]=p(" 返回首页 ",-1))]),_:1,__:[1]}),a(r,{onClick:y},{default:o(()=>[a(l,null,{default:o(()=>[a(d(j))]),_:1}),s[2]||(s[2]=p(" 返回上页 ",-1))]),_:1,__:[2]}),a(r,{onClick:k},{default:o(()=>[a(l,null,{default:o(()=>[a(d(q))]),_:1}),s[3]||(s[3]=p(" 刷新页面 ",-1))]),_:1,__:[3]})]),s[8]||(s[8]=e("div",{class:"suggestions"},[e("h3",null,"您可以尝试："),e("ul",null,[e("li",null,"检查网址是否输入正确"),e("li",null,"返回首页重新导航"),e("li",null,"使用搜索功能查找内容"),e("li",null,"联系网站管理员")])],-1)),e("div",J,[s[4]||(s[4]=e("h3",null,"搜索内容：",-1)),a(N,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=n=>u.value=n),placeholder:"输入关键词搜索文章",class:"search-input",onKeyup:x(m,["enter"])},{append:o(()=>[a(r,{onClick:m},{default:o(()=>[a(l,null,{default:o(()=>[a(d(H))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e("div",W,[s[5]||(s[5]=e("h3",null,"热门文章：",-1)),e("div",X,[(v(!0),_(T,null,D(c.value,n=>(v(),_("div",{key:n.id,class:"article-item",onClick:as=>C(n.id)},[e("div",I,f(n.title),1),e("div",S,[e("span",O,[a(l,null,{default:o(()=>[a(d(L))]),_:1}),p(" "+f(n.viewCount),1)]),e("span",ss,f(b(n.publishTime)),1)])],8,Z))),128))])])])]),s[10]||(s[10]=E('<div class="background-decoration" data-v-9e9ea46e><div class="floating-shape shape-1" data-v-9e9ea46e></div><div class="floating-shape shape-2" data-v-9e9ea46e></div><div class="floating-shape shape-3" data-v-9e9ea46e></div><div class="floating-shape shape-4" data-v-9e9ea46e></div></div>',1))])}}},ls=V(es,[["__scopeId","data-v-9e9ea46e"]]);export{ls as default};
