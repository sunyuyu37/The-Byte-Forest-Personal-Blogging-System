import{_ as j,r as v,o as J,b as d,d as e,e as a,w as l,n as $,J as m,N as C,O as T,j as H,Q as R,L as w,k as F,f as x,l as r,h as i,a3 as A,H as c,ag as G,ah as O,I as Q,G as _,X as U,D as X,af as q,B as K}from"./index-Da7ZqcH5.js";import{g as W,a as Y}from"./placeholder-BiywPu__.js";const Z={class:"tech-share"},ee={class:"page-header"},te={class:"container"},se={class:"header-content"},ae={class:"header-icon"},oe={class:"articles-section"},ce={class:"container"},ne={class:"tech-articles-grid"},le=["onClick"],re={class:"tech-card-header"},de={class:"tech-meta"},ie={class:"tech-category"},_e={class:"tech-date"},ue={class:"tech-content"},he={class:"tech-title"},pe={class:"tech-excerpt"},ve={key:0,class:"code-preview"},fe={class:"code-header"},me={class:"code-lang"},ge={class:"code-content"},ye={class:"tech-tags"},ke={class:"tech-footer"},Ce={class:"author-section"},Te=["src","alt"],we={class:"author-details"},xe={class:"author-name"},Ae={class:"author-role"},Me={class:"tech-stats"},Se={class:"stat-item"},Be={class:"stat-item"},Ee={class:"stat-item"},Ne={key:0,class:"load-more"},Ve={key:1,class:"empty-state"},ze={__name:"TechShare",setup(De){const M=F(),u=v([]),h=v(!1),g=v(!0),f=v(1),y=t=>typeof t=="string"&&/(^https?:)?\/\/via\.placeholder\.com/i.test(t),S=t=>t&&((!t.coverImage||y(t.coverImage))&&(t.coverImage=W(300,200)),t.author=t.author||{},(!t.author.avatar||y(t.author.avatar))&&(t.author.avatar=Y(t.author.name||"用户",40)),t),k=async()=>{h.value=!0;try{const t=await R.getArticlesByCategory("tech",{page:f.value-1,size:10});if(t.code===200){const o=t.data,n=(o.content||[]).map(S);f.value===1?u.value=n:u.value.push(...n),g.value=!o.last}else w.error(t.message||"加载文章失败")}catch(t){console.error("加载文章失败:",t),w.error("加载文章失败")}finally{h.value=!1}},B=()=>{f.value++,k()},E=t=>{M.push(`/tech-share/${t}`)},N=t=>{t.target.src="/vite.svg"},V=t=>new Date(t).toLocaleDateString("zh-CN"),z=t=>({easy:"入门",medium:"进阶",hard:"高级",expert:"专家"})[t]||"进阶",D=t=>({JavaScript:"warning",Vue:"success",React:"info","Node.js":"success",Python:"primary",Java:"danger",CSS:"info",HTML:"warning"})[t]||"primary";return J(()=>{k()}),(t,o)=>{const n=$,I=x("Code"),b=U,L=x("View"),P=H;return r(),d("div",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",ae,[a(n,null,{default:l(()=>[a(i(A))]),_:1})]),o[0]||(o[0]=e("div",{class:"header-text"},[e("h1",{class:"page-title"},"技术分享"),e("p",{class:"page-subtitle"},"分享前沿技术、开发经验与技术见解")],-1))])])]),e("div",oe,[e("div",ce,[e("div",ne,[(r(!0),d(C,null,T(u.value,s=>(r(),d("article",{key:s.id,class:"tech-article-card",onClick:p=>E(s.slug)},[e("div",re,[e("div",de,[e("div",ie,[a(n,null,{default:l(()=>[a(i(A))]),_:1}),e("span",null,c(s.category||"技术分享"),1)]),e("div",{class:G(["tech-difficulty",`difficulty-${s.difficulty||"medium"}`])},c(z(s.difficulty||"medium")),3)]),e("div",_e,c(V(s.createdAt)),1)]),e("div",ue,[e("h3",he,c(s.title),1),e("p",pe,c(s.excerpt),1),s.codeSnippet?(r(),d("div",ve,[e("div",fe,[e("span",me,c(s.codeLanguage||"javascript"),1),a(n,null,{default:l(()=>[a(i(O))]),_:1})]),e("pre",ge,[e("code",null,c(s.codeSnippet),1)])])):m("",!0),e("div",ye,[(r(!0),d(C,null,T(s.tags,p=>(r(),Q(b,{key:p.id,size:"small",type:D(p.name),effect:"dark"},{default:l(()=>[a(n,null,{default:l(()=>[a(I)]),_:1}),_(" "+c(p.name),1)]),_:2},1032,["type"]))),128))])]),e("div",ke,[e("div",Ce,[e("img",{src:s.author.avatar,alt:s.author.name,class:"tech-avatar",onError:N},null,40,Te),e("div",we,[e("span",xe,c(s.author.name),1),e("span",Ae,c(s.author.role||"开发者"),1)])]),e("div",Me,[e("span",Se,[a(n,null,{default:l(()=>[a(L)]),_:1}),_(" "+c(s.views),1)]),e("span",Be,[a(n,null,{default:l(()=>[a(i(X))]),_:1}),_(" "+c(s.likes),1)]),e("span",Ee,[a(n,null,{default:l(()=>[a(i(q))]),_:1}),_(" "+c(s.comments),1)])])])],8,le))),128))]),g.value?(r(),d("div",Ne,[a(P,{type:"primary",size:"large",loading:h.value,onClick:B},{default:l(()=>o[1]||(o[1]=[_(" 加载更多 ",-1)])),_:1,__:[1]},8,["loading"])])):m("",!0),!h.value&&u.value.length===0?(r(),d("div",Ve,[a(n,{class:"empty-icon"},{default:l(()=>[a(i(K))]),_:1}),o[2]||(o[2]=e("h3",null,"暂无技术分享文章",-1)),o[3]||(o[3]=e("p",null,"期待更多精彩的技术分享内容",-1))])):m("",!0)])])])}}},Le=j(ze,[["__scopeId","data-v-7b80b18f"]]);export{Le as default};
