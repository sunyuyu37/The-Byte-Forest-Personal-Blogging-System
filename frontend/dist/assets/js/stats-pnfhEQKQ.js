import{r as t}from"./index-di9GIa25.js";const a={getDashboardStats:()=>t({url:"/stats/dashboard",method:"get"}),getRecentArticles:(a=5)=>t({url:"/stats/recent-articles",method:"get",params:{limit:a}}),getRecentComments:(a=5)=>t({url:"/stats/recent-comments",method:"get",params:{limit:a}}),getArticleTrendData:(a="month")=>t({url:"/stats/chart/article-trend",method:"get",params:{period:a}}),getArticleCategoryStats:()=>t({url:"/stats/chart/article-category",method:"get"}),getArticleViewTrendData:(a="month")=>t({url:"/stats/chart/article-view-trend",method:"get",params:{period:a}}),getPopularArticlesData:(a=10)=>t({url:"/stats/chart/popular-articles",method:"get",params:{limit:a}}),getCommentTrendData:(a="month")=>t({url:"/stats/chart/comment-trend",method:"get",params:{period:a}}),getUserRegistrationTrendData:(a="month")=>t({url:"/stats/chart/user-registration-trend",method:"get",params:{period:a}}),getCommentWordCloudData:(a=100)=>t({url:"/stats/chart/comment-wordcloud",method:"get",params:{limit:a}}),getTrendData(t="week"){return Promise.all([this.getArticleTrendData(t),this.getArticleViewTrendData(t),this.getCommentTrendData(t)]).then(([t,a,e])=>{var r,s,o,d;return{code:200,data:{dates:(null==(r=t.data)?void 0:r.map(t=>t[0]))||[],articles:(null==(s=t.data)?void 0:s.map(t=>t[1]))||[],views:(null==(o=a.data)?void 0:o.map(t=>t[1]))||[],comments:(null==(d=e.data)?void 0:d.map(t=>t[1]))||[]}}}).catch(t=>({code:500,message:"获取趋势数据失败"}))},getCategoryStats(){return this.getArticleCategoryStats().then(t=>200===t.code&&t.data?{code:200,data:{categories:t.data.map(t=>t[0]),articles:t.data.map(t=>t[1]),views:t.data.map(t=>t[2]||0)}}:t)},getVisitStats:(t="today")=>Promise.resolve({code:200,data:{hours:Array.from({length:24},(t,a)=>`${a}:00`),visits:Array.from({length:24},()=>Math.floor(50*Math.random())+10),uniqueVisits:Array.from({length:24},()=>Math.floor(30*Math.random())+5)}}),getPopularArticles(t=10){return this.getPopularArticlesData(t).then(t=>200===t.code&&t.data?{code:200,data:t.data.map((t,a)=>({rank:a+1,title:t[0],views:t[1],comments:t[2]||0,likes:t[3]||0}))}:t)}};export{a as s};
