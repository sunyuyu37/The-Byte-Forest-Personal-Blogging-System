import{_ as D,r as p,o as V,b as d,d as s,e as a,w as l,n as L,J as w,N as k,O as C,j as $,Q as j,L as x,k as S,l as i,h as r,al as F,H as o,ag as G,ai as H,am as J,I as O,G as g,X as Q,a7 as R,D as X,aa as q,af as K,B as P}from"./index-Da7ZqcH5.js";const U={class:"news-info"},W={class:"page-header"},Y={class:"container"},Z={class:"header-content"},ss={class:"header-icon"},ts={class:"articles-section"},es={class:"container"},as={class:"news-waterfall"},os=["onClick"],ns={class:"article-image"},ls=["src","alt"],cs={class:"article-overlay"},rs={class:"article-meta"},is={class:"article-date"},ds={class:"article-content"},_s={class:"article-title"},us={class:"article-excerpt"},vs={class:"news-info-bar"},ps={class:"source-info"},hs={class:"source"},gs={class:"detail-item"},fs={class:"detail-item"},ms={class:"article-tags"},ys={class:"article-footer"},ws={class:"author-info"},ks=["src","alt"],Cs={class:"author-name"},xs={class:"article-stats"},Es={class:"views"},Ns={class:"stat-item"},Ms={class:"stat-item"},As={class:"stat-item"},Bs={key:0,class:"load-more"},Is={key:1,class:"empty-state"},Ts={__name:"NewsInfo",setup(bs){const E=S(),_=p([]),u=p(!1),f=p(!0),h=p(1),m=async()=>{u.value=!0;try{const t=await j.getArticlesByCategory("news",{page:h.value-1,size:10});t.code===200?(h.value===1?_.value=t.data.content||[]:_.value.push(...t.data.content||[]),f.value=!t.data.last):x.error(t.message||"加载文章失败")}catch(t){console.error("加载文章失败:",t),x.error("加载文章失败")}finally{u.value=!1}},N=()=>{h.value++,m()},M=t=>{E.push(`/news-info/${t}`)},A=t=>{t.target.src="/vite.svg"},B=t=>{t.target.src="/vite.svg"},y=t=>new Date(t).toLocaleDateString("zh-CN"),I=t=>({tech:"科技",ai:"人工智能",industry:"行业动态",policy:"政策法规"})[t]||"其他",T=t=>({突发:"danger",热点:"warning",独家:"success",深度:"info",快讯:"primary",科技:"primary",财经:"success",政策:"warning",国际:"info",社会:"danger"})[t]||"default";return V(()=>{m()}),(t,n)=>{const c=L,b=Q,z=$;return i(),d("div",U,[s("div",W,[s("div",Y,[s("div",Z,[s("div",ss,[a(c,null,{default:l(()=>[a(r(F))]),_:1})]),n[0]||(n[0]=s("div",{class:"header-text"},[s("h1",{class:"page-title"},"新闻资讯"),s("p",{class:"page-subtitle"},"关注行业动态，掌握前沿资讯")],-1))])])]),s("div",ts,[s("div",es,[s("div",as,[(i(!0),d(k,null,C(_.value,e=>(i(),d("article",{key:e.id,class:"news-card",onClick:v=>M(e.slug)},[s("div",ns,[s("img",{src:e.coverImage||"/default-news.jpg",alt:e.title,onError:A},null,40,ls),s("div",cs,[s("div",rs,[s("span",is,o(y(e.createdAt)),1),s("span",{class:G(["news-category",`category-${e.category}`])},o(I(e.category)),3)])])]),s("div",ds,[s("h3",_s,o(e.title),1),s("p",us,o(e.excerpt),1),s("div",vs,[s("div",ps,[s("span",hs,"来源："+o(e.source),1),s("div",gs,[a(c,null,{default:l(()=>[a(r(H))]),_:1}),s("span",null,o(y(e.createdAt)),1)]),s("div",fs,[a(c,null,{default:l(()=>[a(r(J))]),_:1}),s("span",null,o(e.location||"全球"),1)])]),s("div",ms,[(i(!0),d(k,null,C(e.tags,v=>(i(),O(b,{key:v,type:T(v),size:"small",class:"news-tag"},{default:l(()=>[g(o(v.name),1)]),_:2},1032,["type"]))),128))])]),s("div",ys,[s("div",ws,[s("img",{class:"reporter-avatar",src:e.author.avatar,alt:e.author.name,onError:B},null,40,ks),s("span",Cs,o(e.author.name),1)]),s("div",xs,[s("span",Es,[a(c,null,{default:l(()=>[a(r(R))]),_:1}),g(" "+o(e.views),1)]),s("div",Ns,[a(c,null,{default:l(()=>[a(r(X))]),_:1}),s("span",null,o(e.likes||0),1)]),s("div",Ms,[a(c,null,{default:l(()=>[a(r(q))]),_:1}),s("span",null,o(e.shares||0),1)]),s("div",As,[a(c,null,{default:l(()=>[a(r(K))]),_:1}),s("span",null,o(e.comments||0),1)])])])])],8,os))),128))]),f.value?(i(),d("div",Bs,[a(z,{type:"primary",size:"large",loading:u.value,onClick:N},{default:l(()=>n[1]||(n[1]=[g(" 加载更多 ",-1)])),_:1,__:[1]},8,["loading"])])):w("",!0),!u.value&&_.value.length===0?(i(),d("div",Is,[a(c,{class:"empty-icon"},{default:l(()=>[a(r(P))]),_:1}),n[2]||(n[2]=s("h3",null,"暂无新闻资讯",-1)),n[3]||(n[3]=s("p",null,"期待更多精彩的资讯内容",-1))])):w("",!0)])])])}}},Ds=D(Ts,[["__scopeId","data-v-c6b7181d"]]);export{Ds as default};
