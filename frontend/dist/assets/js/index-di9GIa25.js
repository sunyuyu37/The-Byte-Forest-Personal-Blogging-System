const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/MainLayout-dREKh6YQ.js","assets/js/el-tooltip-l0sNRNKZ.js","assets/js/vue-B9wWIsxR.js","assets/js/element-plus-CXASJE3V.js","assets/js/announcement-C-l9msDL.js","assets/js/_plugin-vue_export-helper-BCo6x5W8.js","assets/js/utils-C28rWPR3.js","assets/css/MainLayout-CSt596P5.css","assets/css/base-B0cSg007.css","assets/css/el-button-DhOMi8yW.css","assets/css/el-button-group-ePhtJS9H.css","assets/css/el-scrollbar-naz6v7q5.css","assets/css/el-menu-item-C5qZcEmc.css","assets/css/el-avatar-BmRr_O8d.css","assets/css/el-input-tPmZxDKr.css","assets/css/el-overlay-uHqKdL1G.css","assets/css/el-checkbox-DIj50LEB.css","assets/css/el-empty-D4ZqTl4F.css","assets/css/el-tab-pane-BLUvaGkK.css","assets/css/el-tag-DljBBxJR.css","assets/js/Home-BO-sHgeu.js","assets/js/ArticleCard-0C1cmhuZ.js","assets/js/placeholder-Cbo4Yzwr.js","assets/css/ArticleCard-DoLYUZR9.css","assets/js/article-Pn5uYJFo.js","assets/js/tag-CcNM5ZPy.js","assets/js/category-PKu3E1eX.js","assets/js/comment-DttPZ_iH.js","assets/js/stats-pnfhEQKQ.js","assets/js/date-DeQj3nH2.js","assets/css/Home-DQ7cjr2A.css","assets/css/el-loading-C5IeuJ3V.css","assets/css/el-form-item-BWkJzdQ_.css","assets/css/el-col-Ds2mGN2S.css","assets/js/Articles-CAZN2TqD.js","assets/css/Articles-Bct2oUUV.css","assets/css/el-pagination-BNQcHhjS.css","assets/css/el-select-DC6_bRTH.css","assets/js/Search-m4mz5lag.js","assets/css/Search-DgVHoPvQ.css","assets/css/el-card-fwQOLwdi.css","assets/js/ArticleDetail-DqIqCQnD.js","assets/css/ArticleDetail-BlbynQZG.css","assets/css/el-result-CLFeE-IU.css","assets/css/el-breadcrumb-item-DNDT2TZX.css","assets/css/el-skeleton-item-BLY1jEuR.css","assets/js/TechShare-CJ3LFBP4.js","assets/css/TechShare-DFLwcT3Q.css","assets/js/LifeEssays-BEyST1Q9.js","assets/css/LifeEssays-Dnowv1dK.css","assets/js/LifeEssaysDetail-Dp0_rtSi.js","assets/css/LifeEssaysDetail-3davXnY7.css","assets/js/StudyNotes-D3-YEDtD.js","assets/css/StudyNotes-6gp-CsXX.css","assets/js/StudyNotesDetail-93gAg8x-.js","assets/css/StudyNotesDetail-_nSOrPMJ.css","assets/js/ProjectPractice-OjBo5bT4.js","assets/css/ProjectPractice-82k4PLvl.css","assets/js/ProjectPracticeDetail-B0U_3y0i.js","assets/css/ProjectPracticeDetail-ITMbX1OR.css","assets/js/NewsInfo-CbH56Efq.js","assets/css/NewsInfo-CNSiZYhV.css","assets/js/CompetitionEvents-zJnzwir0.js","assets/css/CompetitionEvents-IsEfJgdY.css","assets/js/NewsInfoDetail-CMbxCUqm.js","assets/css/NewsInfoDetail-tFv6xPBa.css","assets/js/TechShareDetail-FhffLAwD.js","assets/css/TechShareDetail-BALUZCNs.css","assets/css/el-rate-CTwMIh-J.css","assets/js/CompetitionEventsDetail-BZ2jb7xh.js","assets/css/CompetitionEventsDetail-CqcqtEyc.css","assets/js/Tag-C4iCRTN7.js","assets/css/Tag-DkuxtY3D.css","assets/js/About-BNJ0C7Vm.js","assets/css/About-CBrzx_RV.css","assets/css/el-progress-Dw9yTa91.css","assets/js/Contact-D5CAIxHJ.js","assets/css/Contact-BpGkFG2k.css","assets/css/el-collapse-item-BqS7tZDP.css","assets/js/Privacy-DzDIQW8z.js","assets/css/Privacy-BK05Cjww.css","assets/js/Terms-CnKWDNyS.js","assets/css/Terms-CRfAr8TY.css","assets/js/AuthLayout-BNXP3-G1.js","assets/js/ForestIcons-D1lm84fs.js","assets/css/ForestIcons-ChRznUoI.css","assets/css/AuthLayout-BxigfYEK.css","assets/js/Login-3ssMsHa9.js","assets/css/Login-8McKnoIM.css","assets/js/Register-CiINK3Yj.js","assets/css/Register-CHPL9CBX.css","assets/js/AdminLayout-CWjy9KnS.js","assets/js/positionedConfirm-DdmNknNt.js","assets/css/positionedConfirm-CMo6SdeK.css","assets/js/notification-BWAPbIk2.js","assets/css/AdminLayout-Bx8OT79I.css","assets/js/Dashboard-D15tBE-H.js","assets/js/charts-C_8PNhNt.js","assets/css/Dashboard-DKmnQ1YE.css","assets/js/Articles-cTVmufc6.js","assets/css/Articles-BxfPcKoY.css","assets/css/el-table-column-CKoPG0Y8.css","assets/js/ArticleForm-Bh52kRsQ.js","assets/js/file-kw6L8mGP.js","assets/css/ArticleForm-DGuZaxf7.css","assets/css/el-switch-B5lTGWdM.css","assets/css/el-upload-q8uObtwj.css","assets/css/el-date-picker-Db-ufUiu.css","assets/css/el-radio-group-BzMpJalG.css","assets/css/el-radio-CaElTPjg.css","assets/js/Categories-CPhFSwZG.js","assets/css/Categories-Cs-Ya9Ma.css","assets/css/el-input-number-D6iOyBgb.css","assets/js/Tags-D23ly9PD.js","assets/css/Tags-SiXaL__0.css","assets/js/Comments-7JqgkGnF.js","assets/css/Comments-RyyvbHvd.css","assets/js/Users-CfyS8udO.js","assets/css/Users-D4YtbInC.css","assets/js/Statistics-C2IK7Eky.js","assets/css/Statistics-BiNKZn7I.css","assets/js/TokenStatus-_KQyVnJl.js","assets/js/security-GM4R7VwQ.js","assets/css/TokenStatus-B5ts7Wyq.css","assets/js/AccountSettings-_xwnzh41.js","assets/css/AccountSettings-B_PoLZC9.css","assets/js/SecurityCenter-DoWcvQex.js","assets/css/SecurityCenter-BKMfdR2N.css","assets/js/HelpCenter-CkUQyDeD.js","assets/css/HelpCenter-BzAbC82H.css","assets/js/NotificationsView-Hy1EG0fQ.js","assets/css/NotificationsView-DQzahKYm.css","assets/js/FileManager-BWbq5zGG.js","assets/css/FileManager-B-dy4i-z.css","assets/js/AnnouncementManager-C8fcQopG.js","assets/css/AnnouncementManager-CIdA1cZ3.css","assets/js/Profile-R6dnBOKV.js","assets/css/Profile-C47jQQ9Y.css","assets/js/NotFound-DU-gOiDw.js","assets/css/NotFound-CKKQZ9aJ.css"])))=>i.map(i=>d[i]);
import{ax as e,r as t,b as a,ay as o,w as s,p as n,S as r,az as i,al as m,c,o as l,Q as u,I as p,T as _,H as h,L as d,aA as g,aB as E,au as f,aC as A}from"./vue-B9wWIsxR.js";import{E as T,a as L,b as P}from"./element-plus-CXASJE3V.js";import{a as I,b as v,N as D}from"./utils-C28rWPR3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const y={},j=function(e,t,a){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));o=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in y)return;y[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,a&&s.setAttribute("nonce",a),document.head.appendChild(s),t?new Promise((t,a)=>{s.addEventListener("load",t),s.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})},O="blog_token",R="blog_token_expire";function w(){return I.get(O)}function V(e){I.set(O,e,{expires:1});const t=(new Date).getTime()+864e5;I.set(R,t.toString(),{expires:1})}function b(){const e=I.get(R);if(!e)return!0;const t=(new Date).getTime();return parseInt(e)-t<=3e5}function S(){const e=I.get(R);if(!e)return!0;return(new Date).getTime()>=parseInt(e)}const C=new class{constructor(){this.cache=new Map,this.timeouts=new Map,this.defaultTTL=3e5}generateKey(e,t={}){const a=Object.keys(t).sort().reduce((e,a)=>(e[a]=t[a],e),{});return`${e}?${JSON.stringify(a)}`}set(e,t,a=this.defaultTTL){this.timeouts.has(e)&&clearTimeout(this.timeouts.get(e)),this.cache.set(e,{data:t,timestamp:Date.now(),ttl:a});const o=setTimeout(()=>{this.delete(e)},a);this.timeouts.set(e,o)}get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>t.ttl?(this.delete(e),null):t.data:null}delete(e){this.cache.delete(e),this.timeouts.has(e)&&(clearTimeout(this.timeouts.get(e)),this.timeouts.delete(e))}clear(){this.cache.clear(),this.timeouts.forEach(e=>clearTimeout(e)),this.timeouts.clear()}size(){return this.cache.size}has(e){return this.cache.has(e)&&null!==this.get(e)}},k={ARTICLES:3e5,ARTICLE_DETAIL:6e5,HOT_KEYWORDS:9e5,FEATURED_ARTICLES:6e5,TOP_ARTICLES:18e5},N=v.create({baseURL:"/api",timeout:3e5});let $=0;N.interceptors.request.use(async e=>{if(e.method&&"get"===e.method.toLowerCase()&&!1!==e.cache){const t=C.generateKey(e.url,e.params),a=C.get(t);if(a)throw{isAxiosError:!1,isCacheResponse:!0,data:a,status:200,statusText:"OK",headers:{},config:e};e.cacheKey=t}const t=w();if(t){const a=Date.now();if(a-$>3e4&&($=a,S())){return z().logout(),T.warning("登录已过期，请重新登录"),j(async()=>{const{default:e}=await Promise.resolve().then(()=>J);return{default:e}},void 0).then(({default:e})=>{e.push("/auth/login")}),Promise.reject(new Error("Token已过期"))}e.headers.Authorization=`Bearer ${t}`}return e},e=>Promise.reject(e));let U=!1;function M(e){if(U)return;U=!0;z().logout(),T.warning(e),j(async()=>{const{default:e}=await Promise.resolve().then(()=>J);return{default:e}},void 0).then(({default:e})=>{e.push("/auth/login"),setTimeout(()=>{U=!1},1e3)})}N.interceptors.response.use(e=>{const t=e.data;if(200!==t.code)return T.error(t.message||"请求失败"),401===t.code&&M("登录已过期，请重新登录"),Promise.reject(new Error(t.message||"请求失败"));if(e.config&&e.config.method&&"get"===e.config.method.toLowerCase()&&!1!==e.config.cache&&e.config.cacheKey){const a=e.config.cacheTTL||C.defaultTTL;C.set(e.config.cacheKey,t,a)}return t},e=>{if(e.isCacheResponse)return e.data;let t="网络错误";if(e.response){const{status:a,data:o}=e.response;switch(a){case 400:t=o.message||"请求参数错误";break;case 401:return M("登录状态已失效，请重新登录"),Promise.reject(e);case 403:t="拒绝访问";break;case 404:t="请求的资源不存在";break;case 500:t="服务器内部错误";break;default:t=(null==o?void 0:o.message)||`连接错误${a}`}}else if("ECONNABORTED"===e.code)t="请求超时";else if("Token已过期"===e.message)return Promise.reject(e);return T.error(t),Promise.reject(e)});const q={login:e=>N({url:"/auth/login",method:"post",data:e}),register:e=>N({url:"/auth/register",method:"post",data:e}),checkUsername:e=>N({url:`/auth/check-username?username=${e}`,method:"get"}),checkEmail:e=>N({url:`/auth/check-email?email=${e}`,method:"get"}),sendVerificationEmail:e=>N({url:`/auth/send-verification-email?email=${e}`,method:"post"}),verifyEmail:e=>N({url:"/auth/verify-email",method:"post",data:e}),sendResetPasswordEmail:e=>N({url:`/auth/reset-password?email=${e}`,method:"post"}),confirmResetPassword:e=>N({url:"/auth/confirm-reset-password",method:"post",data:e})},x={getCurrentUser:()=>N({url:"/users/me",method:"get"}),updateUser:(e,t)=>N({url:`/users/${e}`,method:"put",data:t}),updateAvatar:(e,t)=>N({url:`/users/${e}/avatar`,method:"put",data:{avatar:t}}),updatePassword:(e,t)=>N({url:`/users/${e}/password`,method:"put",data:t}),getUser:e=>N({url:`/users/${e}`,method:"get"}),getUsers:e=>N({url:"/users",method:"get",params:e}),createUser:e=>N({url:"/users",method:"post",data:e}),deleteUser:e=>N({url:`/users/${e}`,method:"delete"}),resetPassword:e=>N({url:`/users/${e}/reset-password`,method:"put"}),batchEnable:e=>N({url:"/users/batch",method:"post",data:{operation:"enable",userIds:e}}),batchDisable:e=>N({url:"/users/batch",method:"post",data:{operation:"disable",userIds:e}}),batchDelete:e=>N({url:"/users/batch",method:"post",data:{operation:"delete",userIds:e}}),updateUserByAdmin:(e,t)=>N({url:`/users/admin/${e}`,method:"put",data:t}),toggleUserStatus:e=>N({url:`/users/${e}/status`,method:"put"})},z=e("user",()=>{const e=t(null),o=t(w()),s=t(!1),n=t(!1),r=a(()=>!!o.value&&!!e.value),i=a(()=>{var t;return"ADMIN"===(null==(t=e.value)?void 0:t.role)}),m=async()=>{var t;if(s.value)return new Promise(e=>{const t=setInterval(()=>{s.value||(clearInterval(t),e())},100)});s.value=!0;try{if(!o.value)return void(n.value=!0);if(S())return c(),void(n.value=!0);if(e.value&&!b())return void(n.value=!0);const t=await x.getCurrentUser();200===t.code?e.value=t.data:401===t.code&&c()}catch(a){401!==(null==(t=a.response)?void 0:t.status)&&"Token已过期"!==a.message||c()}finally{s.value=!1,n.value=!0}},c=()=>{o.value=null,e.value=null,n.value=!1,s.value=!1,I.remove(O),I.remove(R)};return{user:e,token:o,isLoggedIn:r,isAdmin:i,initUser:m,login:async e=>{try{const t=await q.login(e),a=t.data.token;return o.value=a,V(a),await m(),t}catch(t){throw t}},register:async e=>{try{return await q.register(e)}catch(t){throw t}},logout:c,updateUser:t=>{e.value={...e.value,...t}}}}),F={__name:"TokenMonitor",setup(e){const t=z(),a=o();let i=null,m=!1,c=!1,l=!1;const u=()=>{if(t.isLoggedIn&&!l)if(S())p();else if(b()){const e=function(){const e=I.get(R);if(!e)return 0;const t=(new Date).getTime(),a=parseInt(e);return Math.max(0,a-t)}(),t=Math.floor(e/6e4);t<=1&&!c?(c=!0,L({title:"登录即将过期",message:"您的登录将在1分钟内过期，请立即保存工作并重新登录！",type:"error",duration:0,showClose:!0})):t<=5&&!m&&(m=!0,L({title:"登录即将过期",message:`您的登录将在${t}分钟后过期，请及时保存工作`,type:"warning",duration:1e4}))}else m=!1,c=!1},p=()=>{l||(l=!0,i&&(clearInterval(i),i=null),t.logout(),a.currentRoute.value.path.startsWith("/admin")?(L({title:"登录已过期",message:"您的登录已过期，即将跳转到登录页面",type:"warning",duration:3e3}),setTimeout(()=>{a.push("/auth/login"),l=!1},1e3)):l=!1)};return s(()=>t.isLoggedIn,e=>{e?(m=!1,c=!1,l=!1,i||(i=setInterval(u,6e4))):i&&(clearInterval(i),i=null)}),n(()=>{t.isLoggedIn&&(i=setInterval(u,6e4),setTimeout(u,2e3))}),r(()=>{i&&clearInterval(i)}),(e,t)=>null}},K={id:"app"},B={__name:"App",setup(e){const t=z(),a=e=>e.path.startsWith("/auth")?"fade":e.path.startsWith("/admin")?"slide-vertical":"ArticleDetail"===e.name||"Profile"===e.name?"zoom":"NotFound"===e.name?"bounce":"slide-horizontal";return n(async()=>{try{t.initUser().catch(e=>{})}catch(e){}}),i((e,t,a)=>(T.error("页面出现错误，请刷新重试"),!1)),(e,t)=>{const o=m("router-view");return l(),c("div",K,[u(o,null,{default:p(({Component:e,route:t})=>[u(_,{name:a(t),mode:"out-in"},{default:p(()=>[(l(),h(d(e),{key:t.path}))]),_:2},1032,["name"])]),_:1}),u(F)])}}};D.configure({showSpinner:!1});const H=[{path:"/",name:"Layout",component:()=>j(()=>import("./MainLayout-dREKh6YQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])),children:[{path:"",name:"Home",component:()=>j(()=>import("./Home-BO-sHgeu.js"),__vite__mapDeps([20,3,2,21,22,5,23,8,13,19,24,25,26,27,28,29,6,30,31,32,33,14,9])),meta:{title:"首页"}},{path:"/articles",name:"Articles",component:()=>j(()=>import("./Articles-CAZN2TqD.js"),__vite__mapDeps([34,2,3,21,22,5,23,8,13,19,24,26,6,35,31,17,36,37,11,14])),meta:{title:"文章列表"}},{path:"/search",name:"Search",component:()=>j(()=>import("./Search-m4mz5lag.js"),__vite__mapDeps([38,2,3,24,26,22,5,6,39,8,31,36,19,37,11,14,17,10,40,32,33,9])),meta:{title:"搜索"}},{path:"/article/:slug",name:"ArticleDetail",component:()=>j(()=>import("./ArticleDetail-DqIqCQnD.js"),__vite__mapDeps([41,2,3,24,27,5,6,42,8,43,14,9,19,13,44,45])),meta:{title:"文章详情"}},{path:"/tech-share",name:"TechShare",component:()=>j(()=>import("./TechShare-CJ3LFBP4.js"),__vite__mapDeps([46,2,3,24,22,5,6,47,8,9,19])),meta:{title:"技术分享"}},{path:"/life-essays",name:"LifeEssays",component:()=>j(()=>import("./LifeEssays-BEyST1Q9.js"),__vite__mapDeps([48,2,3,24,5,6,49,8,9,19])),meta:{title:"生活随笔"}},{path:"/life-essays/:slug",name:"LifeEssaysDetail",component:()=>j(()=>import("./LifeEssaysDetail-Dp0_rtSi.js"),__vite__mapDeps([50,2,3,24,27,5,6,51,8,43,14,9,19,13,44,45])),meta:{title:"生活随笔详情"}},{path:"/study-notes",name:"StudyNotes",component:()=>j(()=>import("./StudyNotes-D3-YEDtD.js"),__vite__mapDeps([52,2,3,24,5,6,53,8,9,19])),meta:{title:"学习笔记"}},{path:"/study-notes/:slug",name:"StudyNotesDetail",component:()=>j(()=>import("./StudyNotesDetail-93gAg8x-.js"),__vite__mapDeps([54,2,3,24,27,5,6,55,8,43,14,9,19,13,44,45])),meta:{title:"学习笔记详情"}},{path:"/project-practice",name:"ProjectPractice",component:()=>j(()=>import("./ProjectPractice-OjBo5bT4.js"),__vite__mapDeps([56,2,3,24,5,6,57,8,19,9])),meta:{title:"项目实践"}},{path:"/project-practice/:slug",name:"ProjectPracticeDetail",component:()=>j(()=>import("./ProjectPracticeDetail-B0U_3y0i.js"),__vite__mapDeps([58,2,3,24,27,5,6,59,8,43,14,9,13,19,44,45])),meta:{title:"项目实践详情"}},{path:"/news-info",name:"NewsInfo",component:()=>j(()=>import("./NewsInfo-CbH56Efq.js"),__vite__mapDeps([60,2,3,24,5,6,61,8,9,19])),meta:{title:"新闻资讯"}},{path:"/competition-events",name:"CompetitionEvents",component:()=>j(()=>import("./CompetitionEvents-zJnzwir0.js"),__vite__mapDeps([62,2,3,24,22,5,6,63,8,19,9])),meta:{title:"竞赛活动"}},{path:"/news-info/:slug",name:"NewsInfoDetail",component:()=>j(()=>import("./NewsInfoDetail-CMbxCUqm.js"),__vite__mapDeps([64,2,3,24,27,5,6,65,8,43,14,9,13,19,44,45])),meta:{title:"新闻资讯详情"}},{path:"/tech-share/:slug",name:"TechShareDetail",component:()=>j(()=>import("./TechShareDetail-FhffLAwD.js"),__vite__mapDeps([66,2,3,24,27,5,6,67,8,43,14,9,68,13,19,44,45])),meta:{title:"技术分享详情"}},{path:"/competition-events/:slug",name:"CompetitionEventsDetail",component:()=>j(()=>import("./CompetitionEventsDetail-BZ2jb7xh.js"),__vite__mapDeps([69,2,3,24,27,5,6,70,8,43,14,9,13,19,44,45])),meta:{title:"竞赛活动详情"}},{path:"/tag/:slug",name:"Tag",component:()=>j(()=>import("./Tag-C4iCRTN7.js"),__vite__mapDeps([71,2,3,21,22,5,23,8,13,19,25,24,6,72,36,37,11,14,17,45,44])),meta:{title:"标签"}},{path:"/about",name:"About",component:()=>j(()=>import("./About-BNJ0C7Vm.js"),__vite__mapDeps([73,3,2,5,74,8,19,75,9,13])),meta:{title:"关于"}},{path:"/contact",name:"Contact",component:()=>j(()=>import("./Contact-D5CAIxHJ.js"),__vite__mapDeps([76,3,2,5,77,8,78,32,9,33,14])),meta:{title:"联系我们"}},{path:"/privacy",name:"Privacy",component:()=>j(()=>import("./Privacy-DzDIQW8z.js"),__vite__mapDeps([79,3,2,5,80,8])),meta:{title:"隐私政策"}},{path:"/terms",name:"Terms",component:()=>j(()=>import("./Terms-CnKWDNyS.js"),__vite__mapDeps([81,3,2,5,82,8])),meta:{title:"使用条款"}}]},{path:"/auth",name:"Auth",component:()=>j(()=>import("./AuthLayout-BNXP3-G1.js"),__vite__mapDeps([83,2,84,5,85,86])),redirect:{name:"Login"},children:[{path:"login",name:"Login",component:()=>j(()=>import("./Login-3ssMsHa9.js"),__vite__mapDeps([87,2,84,5,85,3,6,88])),meta:{title:"登录",guest:!0}},{path:"register",name:"Register",component:()=>j(()=>import("./Register-CiINK3Yj.js"),__vite__mapDeps([89,2,84,5,85,3,6,90])),meta:{title:"注册",guest:!0}}]},{path:"/admin",name:"Admin",component:()=>j(()=>import("./AdminLayout-CWjy9KnS.js"),__vite__mapDeps([91,1,2,3,92,5,93,8,9,94,6,95,12,13,10,11,44])),meta:{requiresAuth:!0,requiresAdmin:!0},children:[{path:"",name:"AdminDashboard",component:()=>j(()=>import("./Dashboard-D15tBE-H.js"),__vite__mapDeps([96,2,3,28,24,97,5,6,98,8,19,31,9])),meta:{title:"管理后台"}},{path:"articles",name:"AdminArticles",component:()=>j(()=>import("./Articles-cTVmufc6.js"),__vite__mapDeps([99,1,2,3,24,26,92,5,93,8,9,6,100,31,36,19,37,11,14,101,16,32])),meta:{title:"文章管理"}},{path:"articles/create",name:"CreateArticle",component:()=>j(()=>import("./ArticleForm-Bh52kRsQ.js"),__vite__mapDeps([102,2,3,92,5,93,8,9,22,24,25,26,103,6,104,32,33,105,106,75,107,14,11,68,19,37,40,18,10,108,109])),meta:{title:"创建文章"}},{path:"articles/:id/edit",name:"EditArticle",component:()=>j(()=>import("./ArticleForm-Bh52kRsQ.js"),__vite__mapDeps([102,2,3,92,5,93,8,9,22,24,25,26,103,6,104,32,33,105,106,75,107,14,11,68,19,37,40,18,10,108,109])),meta:{title:"编辑文章"}},{path:"categories",name:"AdminCategories",component:()=>j(()=>import("./Categories-CPhFSwZG.js"),__vite__mapDeps([110,1,3,2,92,5,93,8,9,111,31,15,32,108,109,14,112,19,37,11,16,101,105])),meta:{title:"分类管理"}},{path:"tags",name:"AdminTags",component:()=>j(()=>import("./Tags-D23ly9PD.js"),__vite__mapDeps([113,1,3,2,92,5,93,8,9,6,114,31,15,108,109,14,112,36,19,37,11,101,16,105,32])),meta:{title:"标签管理"}},{path:"comments",name:"AdminComments",component:()=>j(()=>import("./Comments-7JqgkGnF.js"),__vite__mapDeps([115,1,2,3,27,92,5,93,8,9,6,116,31,15,36,19,37,11,14,101,16,13,32])),meta:{title:"评论管理"}},{path:"users",name:"AdminUsers",component:()=>j(()=>import("./Users-CfyS8udO.js"),__vite__mapDeps([117,1,3,2,92,5,93,8,9,22,6,118,31,15,108,109,36,19,37,11,14,101,16,105,13,32])),meta:{title:"用户管理"}},{path:"statistics",name:"AdminStatistics",component:()=>j(()=>import("./Statistics-C2IK7Eky.js"),__vite__mapDeps([119,3,2,28,5,97,6,120,8,31,9,19,37,11,17])),meta:{title:"数据统计"}},{path:"token-status",name:"TokenStatus",component:()=>j(()=>import("./TokenStatus-_KQyVnJl.js"),__vite__mapDeps([121,122,5,3,2,6,123,8,40,19,9])),meta:{title:"Token状态监控"}},{path:"account-settings",name:"AccountSettings",component:()=>j(()=>import("./AccountSettings-_xwnzh41.js"),__vite__mapDeps([124,122,3,2,5,6,125,8,105,32,14,106,75,9,13])),meta:{title:"账户设置"}},{path:"security-center",name:"SecurityCenter",component:()=>j(()=>import("./SecurityCenter-DoWcvQex.js"),__vite__mapDeps([126,3,2,92,5,93,8,9,122,6,127,19,37,11,105,32,14])),meta:{title:"安全中心"}},{path:"help-center",name:"HelpCenter",component:()=>j(()=>import("./HelpCenter-CkUQyDeD.js"),__vite__mapDeps([128,3,2,5,129,8,32,19,37,11,9,78,14])),meta:{title:"帮助中心"}},{path:"notifications",name:"AdminNotifications",component:()=>j(()=>import("./NotificationsView-Hy1EG0fQ.js"),__vite__mapDeps([130,2,3,92,5,93,8,9,94,6,131,31,36,19,37,11,14])),meta:{title:"通知中心"}},{path:"files",name:"AdminFiles",component:()=>j(()=>import("./FileManager-BWbq5zGG.js"),__vite__mapDeps([132,1,2,3,103,5,6,133,8,31,15,36,19,37,11,14,101,16,108,9])),meta:{title:"文件管理"}},{path:"announcements",name:"AdminAnnouncements",component:()=>j(()=>import("./AnnouncementManager-C8fcQopG.js"),__vite__mapDeps([134,1,3,2,29,4,5,6,135,8,31,15,32,107,14,11,9,16,33,36,19,37,101,105,40])),meta:{title:"公告管理"}}]},{path:"/profile",name:"Profile",component:()=>j(()=>import("./Profile-R6dnBOKV.js"),__vite__mapDeps([136,2,3,92,5,93,8,9,6,137,18,17,19,37,11,32,33,14,40,106,75,13])),meta:{title:"个人中心",requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>j(()=>import("./NotFound-DU-gOiDw.js"),__vite__mapDeps([138,2,3,24,5,6,139,8,14,9])),meta:{title:"页面不存在"}}],W=g({history:E(),routes:H,scrollBehavior:(e,t,a)=>a||{top:0}});W.beforeEach(async(e,t,a)=>{D.start();const o=z();if(e.meta.title&&(document.title=`${e.meta.title} - 个人博客`),!o.user&&o.token)try{await o.initUser()}catch(s){if(o.logout(),e.meta.requiresAuth||e.meta.requiresAdmin)return void a("/auth/login")}if(!e.meta.requiresAuth||o.isLoggedIn)return e.meta.requiresAdmin&&!o.isAdmin?(o.isLoggedIn&&T.warning("您没有访问管理后台的权限"),void a("/")):void(e.meta.guest&&o.isLoggedIn?a("/"):a());a("/auth/login")}),W.afterEach(()=>{D.done()});const J=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"})),G=f(B);for(const[Q,Y]of Object.entries(P))G.component(Q,Y);G.use(A()),G.use(W),G.mount("#app");export{k as C,q as a,x as b,w as g,N as r,V as s,z as u};
