/* empty css             *//* empty css                   *//* empty css                  *//* empty css                     *//* empty css               *//* empty css                 *//* empty css               *//* empty css                  */import{j as a,r as e,J as s,K as t,L as l,M as i,N as o,O as c,e as n,P as r,F as d,Q as u,R as g,S as v,T as m,m as p,U as h,G as f,V as b,W as y,X as w,Y as _,Z as C,_ as k,y as j,z as x,A,$ as S,C as D,x as M,w as T,v as $,E as z}from"./element-plus-CXASJE3V.js";import{A as I}from"./ArticleCard-0C1cmhuZ.js";import{a as V}from"./article-Pn5uYJFo.js";import{t as F,g as E}from"./tag-CcNM5ZPy.js";import{c as q}from"./category-PKu3E1eX.js";import{c as Q}from"./comment-DttPZ_iH.js";import{s as H}from"./stats-pnfhEQKQ.js";import{f as P}from"./date-DeQj3nH2.js";import{_ as R}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{r as O,p as J,S as N,c as U,a as B,aE as L,P as K,a6 as W,O as Y,Q as G,I as X,J as Z,al as aa,M as ea,D as sa,o as ta,C as la,u as ia,H as oa,L as ca}from"./vue-B9wWIsxR.js";import"./placeholder-Cbo4Yzwr.js";import"./index-di9GIa25.js";import"./utils-C28rWPR3.js";const na={class:"home"},ra={class:"hero"},da={class:"particles"},ua={class:"container"},ga={class:"hero-content"},va={class:"hero-stats"},ma={class:"stat-item"},pa={class:"stat-number"},ha={class:"stat-item"},fa={class:"stat-number"},ba={class:"stat-item"},ya={class:"stat-number"},wa={class:"hero-actions"},_a={class:"scroll-arrow"},Ca={class:"categories-tags"},ka={class:"container"},ja={class:"section-header"},xa={class:"header-badge"},Aa={class:"categories-grid"},Sa=["onClick"],Da={class:"category-header"},Ma={class:"category-icon"},Ta={class:"category-badge"},$a={class:"article-count"},za={class:"category-content"},Ia={class:"category-name"},Va={class:"category-description"},Fa={class:"tags-section"},Ea={class:"tags-cloud"},qa={class:"latest-articles"},Qa={class:"container"},Ha={class:"section-header"},Pa={class:"articles-grid"},Ra={class:"daily-quote"},Oa={class:"container"},Ja={class:"quote-header"},Na={class:"quote-title"},Ua={class:"quote-content"},Ba={class:"quote-author"},La={class:"message-board"},Ka={class:"container"},Wa={class:"message-form"},Ya={class:"recent-messages"},Ga={class:"messages-list"},Xa={class:"message-avatar"},Za={class:"message-content"},ae={class:"message-header"},ee={class:"message-name"},se={class:"message-time"},te={class:"message-text"},le=R({__name:"Home",setup(R){const le=O(!1),ie=O([]),oe=O([]),ce=O([]),ne=O(0),re=O(0),de=O(0),ue=O({text:"代码是写给人看的，只是偶尔在机器上运行。",author:"Harold Abelson"}),ge=O({name:"",email:"",message:""}),ve=O(null),me=O(!1),pe=O([]),he=O(!1),fe=O(!1),be={name:[{required:!0,message:"请输入您的昵称",trigger:"blur"},{min:2,max:20,message:"昵称长度在 2 到 20 个字符",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],message:[{required:!0,message:"请输入留言内容",trigger:"blur"},{min:5,max:500,message:"留言长度在 5 到 500 个字符",trigger:"blur"}]},ye=[{text:"代码是写给人看的，只是偶尔在机器上运行。",author:"Harold Abelson"},{text:"过早的优化是万恶之源。",author:"Donald Knuth"},{text:"程序必须是为了给人看而写，给机器执行只是附带任务。",author:"Hal Abelson"},{text:"简单是可靠的前提。",author:"Edsger Dijkstra"},{text:"任何傻瓜都能写出计算机可以理解的代码。好程序员能够写出人能够理解的代码。",author:"Martin Fowler"},{text:"调试的难度是最初写代码的两倍。因此，如果你尽可能聪明地写代码，那么你就没有足够的智慧来调试它。",author:"Brian Kernighan"},{text:"计算机科学领域的任何问题都可以通过增加一个间接的中间层来解决。",author:"David Wheeler"},{text:"软件设计有两种方式：一种是简单到明显没有缺陷，另一种是复杂到缺陷不明显。",author:"C.A.R. Hoare"},{text:"编程不是科学，编程是手艺。",author:"Richard Stallman"},{text:"好的代码本身就是最好的文档。",author:"Steve McConnell"}],we=a=>a.color||"#409EFF",_e=()=>{const a=[".categories-tags",".section-header",".container"];let e=null;for(const t of a)if(e=document.querySelector(t),e)break;if(e)try{e.scrollIntoView({behavior:"smooth",block:"start"})}catch(s){const a=e.offsetTop;window.scrollTo({top:a,behavior:"smooth"})}else window.scrollTo({top:window.innerHeight,behavior:"smooth"})},Ce=()=>{const a=Math.floor(Math.random()*ye.length);ue.value=ye[a];const e=(new Date).toDateString();localStorage.setItem("dailyQuoteDate",e),localStorage.setItem("dailyQuote",JSON.stringify(ue.value))},ke=async()=>{if(ve.value)try{if(!(await ve.value.validate()))return;me.value=!0;const a={content:`【留言板】${ge.value.message}\n\n留言者：${ge.value.name}\n邮箱：${ge.value.email}`,articleId:null,parentId:null};await Q.createComment(a),await Se(),ge.value={name:"",email:"",message:""},ve.value.resetFields(),z.success("留言提交成功！")}catch(a){z.error("留言提交失败，请稍后重试")}finally{me.value=!1}},je=a=>{const e=new Date(a),s=new Date-e;return s<6e4?"刚刚":s<36e5?`${Math.floor(s/6e4)}分钟前`:s<864e5?`${Math.floor(s/36e5)}小时前`:P(e)},xe=()=>{window.scrollTo({top:0,behavior:"smooth"})},Ae=()=>{he.value=window.scrollY>300},Se=async()=>{try{const a=await H.getRecentComments(10);if(200===a.code&&Array.isArray(a.data)){const e=a.data.filter(a=>a.content&&a.content.includes("【留言板】"));pe.value=e.map(a=>{var e;const s=a.content.replace("【留言板】","").trim(),t=s.split("\n")[0]||"",l=s.match(/留言者：(.+?)\n/),i=s.match(/邮箱：(.+?)$/);return{id:a.id,name:l?l[1]:(null==(e=a.user)?void 0:e.nickname)||"匿名用户",email:i?i[1]:"",message:t,createdAt:a.createdAt}})}else pe.value=[]}catch(a){pe.value=[]}};return J(()=>{fe.value=!0,(async()=>{le.value=!0;try{const a=await V.getPublishedArticles({page:0,size:6,sortBy:"publishedAt",sortDir:"desc"});200===a.code&&a.data&&a.data.content&&(ie.value=a.data.content,ne.value=a.data.totalElements||a.data.content.length);const e=await q.getAllCategories();200===e.code&&Array.isArray(e.data)&&(oe.value=e.data.map((a,e)=>{const s=((a,e)=>{const s=[{color:"#667eea",shadow:"rgba(102, 126, 234, 0.3)",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{color:"#f093fb",shadow:"rgba(240, 147, 251, 0.3)",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{color:"#4facfe",shadow:"rgba(79, 172, 254, 0.3)",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{color:"#43e97b",shadow:"rgba(67, 233, 123, 0.3)",gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},{color:"#fa709a",shadow:"rgba(250, 112, 154, 0.3)",gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},{color:"#a8edea",shadow:"rgba(168, 237, 234, 0.3)",gradient:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"},{color:"#ff9a9e",shadow:"rgba(255, 154, 158, 0.3)",gradient:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)"},{color:"#ffecd2",shadow:"rgba(255, 236, 210, 0.3)",gradient:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"}];return a.includes("技术")||a.includes("编程")?s[0]:a.includes("生活")||a.includes("随笔")?s[1]:a.includes("学习")||a.includes("笔记")?s[2]:a.includes("项目")||a.includes("实战")?s[3]:a.includes("新闻")||a.includes("资讯")?s[4]:a.includes("竞赛")||a.includes("活动")?s[5]:s[e%s.length]})(a.name,e),t=(l=a.name).includes("技术")||l.includes("编程")?"Cpu":l.includes("生活")||l.includes("随笔")?"Edit":l.includes("学习")||l.includes("笔记")?"Reading":l.includes("项目")||l.includes("实战")?"Tools":l.includes("新闻")||l.includes("资讯")?"BellFilled":l.includes("竞赛")||l.includes("活动")?"Trophy":l.includes("分析")||l.includes("数据")?"DataAnalysis":l.includes("设置")||l.includes("配置")?"Setting":l.includes("推广")||l.includes("营销")?"Promotion":l.includes("收藏")||l.includes("标签")?"CollectionTag":l.includes("魔法")||l.includes("特效")?"MagicStick":"Folder";var l;return{id:a.id,name:a.name,slug:a.slug,description:a.description,articleCount:a.articleCount||0,icon:t,color:s.color,colorShadow:s.shadow,gradient:s.gradient}}),de.value=oe.value.length);const s=await F.getPopularTags(12);if(200===s.code&&Array.isArray(s.data))ce.value=s.data;else{const a=await E();200===a.code&&Array.isArray(a.data)&&(ce.value=a.data.slice(0,12))}re.value=ie.value.reduce((a,e)=>a+(e.viewCount||0),0)}catch(a){}finally{le.value=!1}})().finally(()=>{fe.value=!1}),(()=>{const a=(new Date).toDateString();if(localStorage.getItem("dailyQuoteDate")!==a)Ce(),localStorage.setItem("dailyQuoteDate",a),localStorage.setItem("dailyQuote",JSON.stringify(ue.value));else{const a=localStorage.getItem("dailyQuote");a&&(ue.value=JSON.parse(a))}})(),Se(),window.addEventListener("scroll",Ae)}),N(()=>{window.removeEventListener("scroll",Ae)}),(z,V)=>{const F=e,E=a,q=n,Q=aa("router-link"),H=p,P=m,R=v,O=g,J=t,N=f,ye=s;return ta(),U("div",na,[B("section",ra,[V[12]||(V[12]=L('<div class="hero-bg-decorations" data-v-170628ec><div class="floating-shape shape-1" data-v-170628ec></div><div class="floating-shape shape-2" data-v-170628ec></div><div class="floating-shape shape-3" data-v-170628ec></div><div class="floating-shape shape-4" data-v-170628ec></div><div class="floating-shape shape-5" data-v-170628ec></div></div>',1)),B("div",da,[(ta(),U(K,null,W(20,a=>B("div",{class:"particle",key:a,style:la({"--delay":3*Math.random()+"s","--duration":10*Math.random()+10+"s","--x":100*Math.random()+"%","--y":100*Math.random()+"%"})},null,4)),64))]),B("div",ua,[B("div",ga,[V[10]||(V[10]=L('<div class="hero-badge" data-v-170628ec><span class="badge-text" data-v-170628ec>✨ 欢迎访问</span></div><h1 class="hero-title" data-v-170628ec><span class="title-line" data-v-170628ec>探索技术的</span><span class="title-line highlight" data-v-170628ec>无限可能</span></h1><p class="hero-subtitle" data-v-170628ec> 在这里，我们分享前沿技术、记录成长历程、传递创新思维 <br data-v-170628ec> 与志同道合的朋友一起，构建更美好的数字世界 </p>',3)),B("div",va,[B("div",ma,[B("span",pa,Y(ne.value)+"+",1),V[5]||(V[5]=B("span",{class:"stat-label"},"技术文章",-1))]),B("div",ha,[B("span",fa,Y(re.value)+"+",1),V[6]||(V[6]=B("span",{class:"stat-label"},"阅读量",-1))]),B("div",ba,[B("span",ya,Y(de.value)+"+",1),V[7]||(V[7]=B("span",{class:"stat-label"},"分类专题",-1))])]),B("div",wa,[G(E,{type:"primary",size:"large",class:"primary-btn",onClick:V[0]||(V[0]=a=>z.$router.push("/articles"))},{default:X(()=>[G(F,null,{default:X(()=>[G(ia(l))]),_:1}),V[8]||(V[8]=ea(" 开始探索 ",-1))]),_:1,__:[8]}),G(E,{size:"large",class:"secondary-btn",onClick:V[1]||(V[1]=a=>z.$router.push("/about"))},{default:X(()=>[G(F,null,{default:X(()=>[G(ia(i))]),_:1}),V[9]||(V[9]=ea(" 关于我们 ",-1))]),_:1,__:[9]})])])]),B("div",{class:"scroll-indicator",onClick:_e},[B("div",_a,[G(F,null,{default:X(()=>[G(ia(o))]),_:1})]),V[11]||(V[11]=B("span",{class:"scroll-text"},"向下滚动探索更多",-1))])]),B("section",Ca,[B("div",ka,[B("div",ja,[V[13]||(V[13]=B("div",{class:"section-bg-decoration"},[B("div",{class:"floating-element floating-1"}),B("div",{class:"floating-element floating-2"})],-1)),B("div",xa,[G(F,null,{default:X(()=>[G(ia(c))]),_:1})]),V[14]||(V[14]=B("h2",null,"文章分类",-1)),V[15]||(V[15]=B("p",{class:"section-subtitle"},"探索不同领域的精彩内容",-1))]),B("div",Aa,[(ta(!0),U(K,null,W(oe.value,a=>(ta(),U("div",{key:a.id,class:"category-card",onClick:e=>(a=>{if(!a)return;const e={tech:"/tech-share",life:"/life-essays",study:"/study-notes",project:"/project-practice",news:"/news-info",contest:"/competition-events"}[a];window.location.href=e||`/articles?category=${a}`})(a.slug),style:la({"--category-color":a.color||"#667eea","--category-color-shadow":a.colorShadow||"rgba(102, 126, 234, 0.3)","--category-gradient":a.gradient||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"})},[B("div",Da,[B("div",Ma,[G(F,{size:"24"},{default:X(()=>{return[(ta(),oa(ca((e=a.icon,{Monitor:$,Edit:T,Notebook:M,Star:d,Document:D,Folder:c,Cpu:S,Trophy:A,BellFilled:x,Tools:j,Reading:l,CollectionTag:k,Promotion:C,DataAnalysis:_,MagicStick:w,Setting:y}[e]||c))))];var e}),_:2},1024)]),B("div",Ta,[B("span",$a,Y(a.articleCount),1)])]),B("div",za,[B("h3",Ia,Y(a.name),1),B("p",Va,Y(a.description||`${a.articleCount} 篇文章`),1)]),V[16]||(V[16]=B("div",{class:"category-footer"},[B("span",{class:"view-articles"},"查看文章 →")],-1))],12,Sa))),128))]),B("div",Fa,[V[17]||(V[17]=B("div",{class:"tags-header"},[B("span",{class:"tags-label"},"热门标签")],-1)),B("div",Ea,[(ta(!0),U(K,null,W(ce.value,a=>(ta(),oa(q,{key:a.id,size:"small",color:we(a),style:{color:"white",border:"none"},onClick:e=>z.$router.push(`/tag/${a.slug}`),class:"tag-item"},{default:X(()=>[ea(Y(a.name),1)]),_:2},1032,["color","onClick"]))),128))])])])]),B("section",qa,[V[20]||(V[20]=B("div",{class:"section-bg-decoration"},null,-1)),B("div",Qa,[B("div",Ha,[V[19]||(V[19]=L('<div class="header-content" data-v-170628ec><div class="header-badge" data-v-170628ec><span class="badge-icon" data-v-170628ec>📚</span><span class="badge-text" data-v-170628ec>最新发布</span></div><h2 data-v-170628ec>精选文章</h2><p class="section-subtitle" data-v-170628ec>探索最新的技术趋势和深度思考</p></div>',1)),G(Q,{to:"/articles",class:"more-link"},{default:X(()=>[V[18]||(V[18]=B("span",null,"查看全部",-1)),G(F,null,{default:X(()=>[G(ia(r))]),_:1})]),_:1,__:[18]})]),Z((ta(),U("div",Pa,[(ta(!0),U(K,null,W(ie.value,a=>(ta(),oa(I,{key:a.id,article:a},null,8,["article"]))),128))])),[[ye,le.value]])])]),B("section",Ra,[B("div",Oa,[B("div",Ja,[B("div",Na,[G(F,null,{default:X(()=>[G(ia(d))]),_:1}),V[21]||(V[21]=ea(" 每日一句 ",-1))]),B("div",{class:"refresh-btn",onClick:Ce},[G(F,null,{default:X(()=>[G(ia(u))]),_:1})])]),B("div",Ua,Y(ue.value.text),1),B("div",Ba,"— "+Y(ue.value.author),1)])]),B("section",La,[B("div",Ka,[V[24]||(V[24]=L('<div class="section-header" data-v-170628ec><div class="header-content" data-v-170628ec><div class="header-badge" data-v-170628ec><span class="badge-icon" data-v-170628ec>💬</span><span class="badge-text" data-v-170628ec>留言反馈</span></div><h2 data-v-170628ec>留言板</h2><p class="section-subtitle" data-v-170628ec>分享您的想法和建议</p></div></div>',1)),B("div",Wa,[G(J,{model:ge.value,ref_key:"messageFormRef",ref:ve,rules:be},{default:X(()=>[G(O,{gutter:20},{default:X(()=>[G(R,{span:12},{default:X(()=>[G(P,{prop:"name"},{default:X(()=>[G(H,{modelValue:ge.value.name,"onUpdate:modelValue":V[2]||(V[2]=a=>ge.value.name=a),placeholder:"您的昵称",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),G(R,{span:12},{default:X(()=>[G(P,{prop:"email"},{default:X(()=>[G(H,{modelValue:ge.value.email,"onUpdate:modelValue":V[3]||(V[3]=a=>ge.value.email=a),placeholder:"邮箱地址（可选）",size:"large"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),G(P,{prop:"message"},{default:X(()=>[G(H,{modelValue:ge.value.message,"onUpdate:modelValue":V[4]||(V[4]=a=>ge.value.message=a),type:"textarea",rows:4,placeholder:"请输入您的留言或建议...",size:"large"},null,8,["modelValue"])]),_:1}),G(P,null,{default:X(()=>[G(E,{type:"primary",size:"large",onClick:ke,loading:me.value},{default:X(()=>[G(F,null,{default:X(()=>[G(ia(h))]),_:1}),V[22]||(V[22]=ea(" 发送留言 ",-1))]),_:1,__:[22]},8,["loading"])]),_:1})]),_:1},8,["model"])]),B("div",Ya,[V[23]||(V[23]=B("h3",null,"最近留言",-1)),B("div",Ga,[(ta(!0),U(K,null,W(pe.value,a=>(ta(),U("div",{key:a.id,class:"message-item"},[B("div",Xa,[G(N,{size:40},{default:X(()=>[ea(Y(a.name.charAt(0)),1)]),_:2},1024)]),B("div",Za,[B("div",ae,[B("span",ee,Y(a.name),1),B("span",se,Y(je(a.createdAt)),1)]),B("p",te,Y(a.message),1)])]))),128))])])])]),V[26]||(V[26]=B("div",{class:"sidebar-widgets"},null,-1)),B("div",{class:sa(["back-to-top",{show:he.value}]),onClick:xe},[G(F,{size:"20"},{default:X(()=>[G(ia(b))]),_:1})],2),B("div",{class:sa(["page-loading",{loading:fe.value}])},V[25]||(V[25]=[B("div",{class:"loading-bar"},null,-1)]),2)])}}},[["__scopeId","data-v-170628ec"]]);export{le as default};
