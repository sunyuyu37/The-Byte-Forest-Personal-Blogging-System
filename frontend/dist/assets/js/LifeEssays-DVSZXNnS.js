import{_ as F,r as m,o as G,b as d,d as s,e as a,w as l,n as J,J as c,N as C,O as E,j as O,Q,L as M,k as R,f as w,l as i,h as _,t as X,ag as T,H as o,ai as q,i as K,I as P,G as g,X as U,af as W,B as Y}from"./index-Da7ZqcH5.js";const Z={class:"life-essays"},ss={class:"page-header"},ts={class:"container"},es={class:"header-content"},as={class:"header-icon"},os={class:"articles-section"},ns={class:"container"},is={class:"diary-timeline"},ds=["onClick"],ls={class:"diary-date-marker"},rs={class:"date-circle"},cs={class:"date-day"},_s={class:"date-month"},us={class:"diary-card"},hs={class:"diary-header"},ps={class:"diary-meta"},ms={class:"diary-time"},gs={key:0,class:"diary-weather"},vs={class:"diary-content"},ys={class:"diary-title"},fs={class:"diary-excerpt"},ks={key:0,class:"diary-image"},Cs=["src","alt"],Es={key:0,class:"image-caption"},Ms={class:"diary-tags"},ws={class:"diary-footer"},Ts={class:"diary-author"},xs=["src","alt"],As={class:"author-info"},Bs={class:"author-name"},Ds={class:"author-feeling"},Ls={class:"diary-stats"},Ns={class:"stat-item"},Ss={class:"stat-item"},zs={key:0,class:"load-more"},Is={key:1,class:"empty-state"},bs={__name:"LifeEssays",setup(Vs){const x=R(),u=m([]),h=m(!1),y=m(!0),v=m(1),f=async()=>{h.value=!0;try{const t=await Q.getArticlesByCategory("life",{page:v.value-1,size:10});t.code===200?(v.value===1?u.value=t.data.content||[]:u.value.push(...t.data.content||[]),y.value=!t.data.last):M.error(t.message||"加载文章失败")}catch(t){console.error("加载文章失败:",t),M.error("加载文章失败")}finally{h.value=!1}},A=()=>{v.value++,f()},B=t=>{x.push(`/life-essays/${t}`)},D=t=>new Date(t).getDate().toString().padStart(2,"0"),L=t=>["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"][new Date(t).getMonth()],N=t=>new Date(t).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),S=t=>({happy:"开心",sad:"难过",excited:"兴奋",calm:"平静",thoughtful:"沉思",grateful:"感恩",nostalgic:"怀念"})[t]||"平静",z=t=>({生活:"success",感悟:"info",旅行:"warning",美食:"danger",读书:"primary",电影:"info",音乐:"success"})[t]||"info";G(()=>{f()});const I=t=>{t.target.src="/vite.svg"},b=t=>{t.target.src="/vite.svg"};return(t,n)=>{const r=J,V=w("Smile"),H=U,$=w("Heart"),j=O;return i(),d("div",Z,[s("div",ss,[s("div",ts,[s("div",es,[s("div",as,[a(r,null,{default:l(()=>[a(_(X))]),_:1})]),n[0]||(n[0]=s("div",{class:"header-text"},[s("h1",{class:"page-title"},"生活随笔"),s("p",{class:"page-subtitle"},"记录生活点滴，分享人生感悟")],-1))])])]),s("div",os,[s("div",ns,[s("div",is,[(i(!0),d(C,null,E(u.value,(e,k)=>(i(),d("article",{key:e.id,class:T(["diary-entry",{"diary-left":k%2===0,"diary-right":k%2===1}]),onClick:p=>B(e.slug)},[s("div",ls,[s("div",rs,[s("span",cs,o(D(e.createdAt)),1),s("span",_s,o(L(e.createdAt)),1)])]),s("div",us,[s("div",hs,[s("div",ps,[s("div",ms,[a(r,null,{default:l(()=>[a(_(q))]),_:1}),s("span",null,o(N(e.createdAt)),1)]),e.weather?(i(),d("div",gs,[a(r,null,{default:l(()=>[a(_(K))]),_:1}),s("span",null,o(e.weather),1)])):c("",!0),s("div",{class:T(["diary-mood",`mood-${e.mood||"happy"}`])},[a(r,null,{default:l(()=>[a(V)]),_:1}),s("span",null,o(S(e.mood)),1)],2)])]),s("div",vs,[s("h3",ys,o(e.title),1),s("div",fs,o(e.excerpt),1),e.coverImage?(i(),d("div",ks,[s("img",{src:e.coverImage,alt:e.title,onError:I},null,40,Cs),e.imageCaption?(i(),d("div",Es,o(e.imageCaption),1)):c("",!0)])):c("",!0),s("div",Ms,[(i(!0),d(C,null,E(e.tags,p=>(i(),P(H,{key:p.id,size:"small",type:z(p.name),effect:"plain",round:""},{default:l(()=>[g(o(p.name),1)]),_:2},1032,["type"]))),128))])]),s("div",ws,[s("div",Ts,[s("img",{src:e.author.avatar,alt:e.author.name,class:"diary-avatar",onError:b},null,40,xs),s("div",As,[s("span",Bs,o(e.author.name),1),s("span",Ds,o(e.author.feeling||"记录生活"),1)])]),s("div",Ls,[s("span",Ns,[a(r,null,{default:l(()=>[a($)]),_:1}),g(" "+o(e.likes),1)]),s("span",Ss,[a(r,null,{default:l(()=>[a(_(W))]),_:1}),g(" "+o(e.comments),1)])])])])],10,ds))),128))]),y.value?(i(),d("div",zs,[a(j,{type:"primary",size:"large",loading:h.value,onClick:A},{default:l(()=>n[1]||(n[1]=[g(" 加载更多 ",-1)])),_:1,__:[1]},8,["loading"])])):c("",!0),!h.value&&u.value.length===0?(i(),d("div",Is,[a(r,{class:"empty-icon"},{default:l(()=>[a(_(Y))]),_:1}),n[2]||(n[2]=s("h3",null,"暂无生活随笔",-1)),n[3]||(n[3]=s("p",null,"期待更多温暖的生活故事",-1))])):c("",!0)])])])}}},$s=F(bs,[["__scopeId","data-v-4a22b3de"]]);export{$s as default};
