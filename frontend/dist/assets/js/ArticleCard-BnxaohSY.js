import{ap as z,aq as I,ar as F,_ as V,ac as N,k as $,c as q,b as f,l as d,J as M,d as c,e as v,w as k,G as x,H as o,X as G,N as O,O as P,I as J,F as R,h as b,a7 as W,n as X,D as K,af as Q}from"./index-Da7ZqcH5.js";import{g as j}from"./placeholder-BiywPu__.js";var B={exports:{}};(function(e,p){(function(l,i){e.exports=i()})(z,function(){return function(l,i,u){l=l||{};var n=i.prototype,r={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function m(a,s,y,Y){return n.fromToBase(a,s,y,Y)}u.en.relativeTime=r,n.fromToBase=function(a,s,y,Y,_){for(var w,L,C,D=y.$locale().relativeTime||r,A=l.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],S=A.length,T=0;T<S;T+=1){var h=A[T];h.d&&(w=Y?u(a).diff(y,h.d,!0):y.diff(a,h.d,!0));var g=(l.rounding||Math.round)(Math.abs(w));if(C=w>0,g<=h.r||!h.r){g<=1&&T>0&&(h=A[T-1]);var E=D[h.l];_&&(g=_(""+g)),L=typeof E=="string"?E.replace("%d",g):E(g,s,h.l,C);break}}if(s)return L;var H=C?D.future:D.past;return typeof H=="function"?H(L):H.replace("%s",L)},n.to=function(a,s){return m(a,s,this,!0)},n.from=function(a,s){return m(a,s,this)};var t=function(a){return a.$u?u.utc():u()};n.toNow=function(a){return this.to(t(this),a)},n.fromNow=function(a){return this.from(t(this),a)}}})})(B);var U=B.exports;const Z=I(U);var tt={exports:{}};(function(e,p){(function(l,i){e.exports=i(F)})(z,function(l){function i(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var u=i(l),n={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(r,m){return m==="W"?r+"周":r+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(r,m){var t=100*r+m;return t<600?"凌晨":t<900?"早上":t<1100?"上午":t<1300?"中午":t<1800?"下午":"晚上"}};return u.default.locale(n,null,!0),n})})(tt);const et={key:0,class:"cover"},at=["src","alt"],rt={class:"content"},st={key:0,class:"category"},nt={class:"title"},ot={key:1,class:"summary"},lt={key:2,class:"tags"},it={key:0,class:"more-tags"},ct={class:"meta"},dt={key:0,class:"author"},ut={class:"name"},mt={class:"stats"},_t={class:"stat-item"},ht={class:"stat-item"},ft={class:"stat-item"},vt={class:"time"},yt={__name:"ArticleCard",props:{article:{type:Object,required:!0}},setup(e){N.extend(Z),N.locale("zh-cn");const p=e,l=$(),i=q(()=>{var s;const t=(s=p.article)==null?void 0:s.coverImage,a=typeof t=="string"&&/(^https?:)?\/\/via\.placeholder\.com/i.test(t);return!t||a?j(350,200):t}),u=t=>{const a=t==null?void 0:t.target;a&&(a.onerror=null,a.src=j(350,200))},n=()=>{l.push(`/article/${p.article.slug}`)},r=t=>t?t>=1e3?(t/1e3).toFixed(1)+"k":t:0,m=t=>t?N(t).fromNow():"";return(t,a)=>{const s=G,y=R,Y=X;return d(),f("div",{class:"article-card",onClick:n},[i.value?(d(),f("div",et,[c("img",{src:i.value,alt:e.article.title,onError:u},null,40,at)])):M("",!0),c("div",rt,[e.article.category?(d(),f("div",st,[v(s,{size:"small",type:"primary"},{default:k(()=>[x(o(e.article.category.name),1)]),_:1})])):M("",!0),c("h3",nt,o(e.article.title),1),e.article.summary?(d(),f("p",ot,o(e.article.summary),1)):M("",!0),e.article.tags&&e.article.tags.length?(d(),f("div",lt,[(d(!0),f(O,null,P(e.article.tags.slice(0,3),_=>(d(),J(s,{key:_.id,size:"small",type:"info",effect:"plain"},{default:k(()=>[x(o(_.name),1)]),_:2},1024))),128)),e.article.tags.length>3?(d(),f("span",it,"+"+o(e.article.tags.length-3),1)):M("",!0)])):M("",!0),c("div",ct,[e.article.author?(d(),f("div",dt,[v(y,{src:e.article.author.avatar,size:24},{default:k(()=>{var _;return[x(o((_=e.article.author.nickname)==null?void 0:_.charAt(0)),1)]}),_:1},8,["src"]),c("span",ut,o(e.article.author.nickname),1)])):M("",!0),c("div",mt,[c("span",_t,[v(Y,null,{default:k(()=>[v(b(W))]),_:1}),x(" "+o(r(e.article.viewCount)),1)]),c("span",ht,[v(Y,null,{default:k(()=>[v(b(K))]),_:1}),x(" "+o(r(e.article.likeCount)),1)]),c("span",ft,[v(Y,null,{default:k(()=>[v(b(Q))]),_:1}),x(" "+o(r(e.article.commentCount||0)),1)])]),c("div",vt,o(m(e.article.publishedAt||e.article.createdAt)),1)])])])}}},Mt=V(yt,[["__scopeId","data-v-ee050822"]]);export{Mt as A};
