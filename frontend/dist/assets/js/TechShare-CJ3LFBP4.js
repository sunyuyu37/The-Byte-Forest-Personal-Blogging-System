/* empty css             *//* empty css                  *//* empty css               */import{r as a,p as e,c as s,a as t,Q as l,I as c,K as r,P as i,a6 as o,ay as n,al as d,o as u,u as v,O as p,D as h,H as m,M as g}from"./vue-B9wWIsxR.js";import{r as f,j as y,E as _,$ as j,ac as k,e as C,F as w,U as x,C as S}from"./element-plus-CXASJE3V.js";import{a as b}from"./article-Pn5uYJFo.js";import{g as I,a as z}from"./placeholder-Cbo4Yzwr.js";import{_ as D}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-di9GIa25.js";import"./utils-C28rWPR3.js";const L={class:"tech-share"},P={class:"page-header"},$={class:"container"},A={class:"header-content"},E={class:"header-icon"},H={class:"articles-section"},J={class:"container"},M={class:"tech-articles-grid"},N=["onClick"],O={class:"tech-card-header"},T={class:"tech-meta"},V={class:"tech-category"},B={class:"tech-date"},F={class:"tech-content"},K={class:"tech-title"},Q={class:"tech-excerpt"},R={key:0,class:"code-preview"},U={class:"code-header"},q={class:"code-lang"},G={class:"code-content"},W={class:"tech-tags"},X={class:"tech-footer"},Y={class:"author-section"},Z=["src","alt"],aa={class:"author-details"},ea={class:"author-name"},sa={class:"author-role"},ta={class:"tech-stats"},la={class:"stat-item"},ca={class:"stat-item"},ra={class:"stat-item"},ia={key:0,class:"load-more"},oa={key:1,class:"empty-state"},na=D({__name:"TechShare",setup(D){const na=n(),da=a([]),ua=a(!1),va=a(!0),pa=a(1),ha=a=>"string"==typeof a&&/(^https?:)?\/\/via\.placeholder\.com/i.test(a),ma=a=>a?(a.coverImage&&!ha(a.coverImage)||(a.coverImage=I(300,200)),a.author=a.author||{},a.author.avatar&&!ha(a.author.avatar)||(a.author.avatar=z(a.author.name||"用户",40)),a):a,ga=async()=>{ua.value=!0;try{const a=await b.getArticlesByCategory("tech",{page:pa.value-1,size:10});if(200===a.code){const e=a.data,s=(e.content||[]).map(ma);1===pa.value?da.value=s:da.value.push(...s),va.value=!e.last}else _.error(a.message||"加载文章失败")}catch(a){_.error("加载文章失败")}finally{ua.value=!1}},fa=()=>{pa.value++,ga()},ya=a=>{a.target.src="/vite.svg"};return e(()=>{ga()}),(a,e)=>{const n=f,_=d("Code"),b=C,I=d("View"),z=y;return u(),s("div",L,[t("div",P,[t("div",$,[t("div",A,[t("div",E,[l(n,null,{default:c(()=>[l(v(j))]),_:1})]),e[0]||(e[0]=t("div",{class:"header-text"},[t("h1",{class:"page-title"},"技术分享"),t("p",{class:"page-subtitle"},"分享前沿技术、开发经验与技术见解")],-1))])])]),t("div",H,[t("div",J,[t("div",M,[(u(!0),s(i,null,o(da.value,a=>{return u(),s("article",{key:a.id,class:"tech-article-card",onClick:e=>{return s=a.slug,void na.push(`/tech-share/${s}`);var s}},[t("div",O,[t("div",T,[t("div",V,[l(n,null,{default:c(()=>[l(v(j))]),_:1}),t("span",null,p(a.category||"技术分享"),1)]),t("div",{class:h(["tech-difficulty",`difficulty-${a.difficulty||"medium"}`])},p((d=a.difficulty||"medium",{easy:"入门",medium:"进阶",hard:"高级",expert:"专家"}[d]||"进阶")),3)]),t("div",B,p((e=a.createdAt,new Date(e).toLocaleDateString("zh-CN"))),1)]),t("div",F,[t("h3",K,p(a.title),1),t("p",Q,p(a.excerpt),1),a.codeSnippet?(u(),s("div",R,[t("div",U,[t("span",q,p(a.codeLanguage||"javascript"),1),l(n,null,{default:c(()=>[l(v(k))]),_:1})]),t("pre",G,[t("code",null,p(a.codeSnippet),1)])])):r("",!0),t("div",W,[(u(!0),s(i,null,o(a.tags,a=>{return u(),m(b,{key:a.id,size:"small",type:(e=a.name,{JavaScript:"warning",Vue:"success",React:"info","Node.js":"success",Python:"primary",Java:"danger",CSS:"info",HTML:"warning"}[e]||"primary"),effect:"dark"},{default:c(()=>[l(n,null,{default:c(()=>[l(_)]),_:1}),g(" "+p(a.name),1)]),_:2},1032,["type"]);var e}),128))])]),t("div",X,[t("div",Y,[t("img",{src:a.author.avatar,alt:a.author.name,class:"tech-avatar",onError:ya},null,40,Z),t("div",aa,[t("span",ea,p(a.author.name),1),t("span",sa,p(a.author.role||"开发者"),1)])]),t("div",ta,[t("span",la,[l(n,null,{default:c(()=>[l(I)]),_:1}),g(" "+p(a.views),1)]),t("span",ca,[l(n,null,{default:c(()=>[l(v(w))]),_:1}),g(" "+p(a.likes),1)]),t("span",ra,[l(n,null,{default:c(()=>[l(v(x))]),_:1}),g(" "+p(a.comments),1)])])])],8,N);var e,d}),128))]),va.value?(u(),s("div",ia,[l(z,{type:"primary",size:"large",loading:ua.value,onClick:fa},{default:c(()=>e[1]||(e[1]=[g(" 加载更多 ",-1)])),_:1,__:[1]},8,["loading"])])):r("",!0),ua.value||0!==da.value.length?r("",!0):(u(),s("div",oa,[l(n,{class:"empty-icon"},{default:c(()=>[l(v(S))]),_:1}),e[2]||(e[2]=t("h3",null,"暂无技术分享文章",-1)),e[3]||(e[3]=t("p",null,"期待更多精彩的技术分享内容",-1))]))])])])}}},[["__scopeId","data-v-7b80b18f"]]);export{na as default};
