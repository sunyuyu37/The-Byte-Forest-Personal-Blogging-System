/* empty css             *//* empty css                  *//* empty css               */import{r as a,p as s,c as e,a as l,Q as t,I as r,K as i,P as c,a6 as n,ay as o,o as u,u as d,O as v,D as p,H as m,M as g}from"./vue-B9wWIsxR.js";import{r as f,j as y,E as h,aj as _,ad as w,ak as j,e as k,a5 as x,F as C,a8 as b,U as z,C as I}from"./element-plus-CXASJE3V.js";import{a as A}from"./article-Pn5uYJFo.js";import{_ as D}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-di9GIa25.js";import"./utils-C28rWPR3.js";const E={class:"news-info"},N={class:"page-header"},O={class:"container"},P={class:"header-content"},$={class:"header-icon"},B={class:"articles-section"},F={class:"container"},H={class:"news-waterfall"},K=["onClick"],L={class:"article-image"},M=["src","alt"],Q={class:"article-overlay"},S={class:"article-meta"},U={class:"article-date"},q={class:"article-content"},G={class:"article-title"},J={class:"article-excerpt"},R={class:"news-info-bar"},T={class:"source-info"},V={class:"source"},W={class:"detail-item"},X={class:"detail-item"},Y={class:"article-tags"},Z={class:"article-footer"},aa={class:"author-info"},sa=["src","alt"],ea={class:"author-name"},la={class:"article-stats"},ta={class:"views"},ra={class:"stat-item"},ia={class:"stat-item"},ca={class:"stat-item"},na={key:0,class:"load-more"},oa={key:1,class:"empty-state"},ua=D({__name:"NewsInfo",setup(D){const ua=o(),da=a([]),va=a(!1),pa=a(!0),ma=a(1),ga=async()=>{va.value=!0;try{const a=await A.getArticlesByCategory("news",{page:ma.value-1,size:10});200===a.code?(1===ma.value?da.value=a.data.content||[]:da.value.push(...a.data.content||[]),pa.value=!a.data.last):h.error(a.message||"加载文章失败")}catch(a){h.error("加载文章失败")}finally{va.value=!1}},fa=()=>{ma.value++,ga()},ya=a=>{a.target.src="/vite.svg"},ha=a=>{a.target.src="/vite.svg"},_a=a=>new Date(a).toLocaleDateString("zh-CN"),wa=a=>({"突发":"danger","热点":"warning","独家":"success","深度":"info","快讯":"primary","科技":"primary","财经":"success","政策":"warning","国际":"info","社会":"danger"}[a]||"default");return s(()=>{ga()}),(a,s)=>{const o=f,h=k,A=y;return u(),e("div",E,[l("div",N,[l("div",O,[l("div",P,[l("div",$,[t(o,null,{default:r(()=>[t(d(_))]),_:1})]),s[0]||(s[0]=l("div",{class:"header-text"},[l("h1",{class:"page-title"},"新闻资讯"),l("p",{class:"page-subtitle"},"关注行业动态，掌握前沿资讯")],-1))])])]),l("div",B,[l("div",F,[l("div",H,[(u(!0),e(c,null,n(da.value,a=>{return u(),e("article",{key:a.id,class:"news-card",onClick:s=>{return e=a.slug,void ua.push(`/news-info/${e}`);var e}},[l("div",L,[l("img",{src:a.coverImage||"/default-news.jpg",alt:a.title,onError:ya},null,40,M),l("div",Q,[l("div",S,[l("span",U,v(_a(a.createdAt)),1),l("span",{class:p(["news-category",`category-${a.category}`])},v((s=a.category,{tech:"科技",ai:"人工智能",industry:"行业动态",policy:"政策法规"}[s]||"其他")),3)])])]),l("div",q,[l("h3",G,v(a.title),1),l("p",J,v(a.excerpt),1),l("div",R,[l("div",T,[l("span",V,"来源："+v(a.source),1),l("div",W,[t(o,null,{default:r(()=>[t(d(w))]),_:1}),l("span",null,v(_a(a.createdAt)),1)]),l("div",X,[t(o,null,{default:r(()=>[t(d(j))]),_:1}),l("span",null,v(a.location||"全球"),1)])]),l("div",Y,[(u(!0),e(c,null,n(a.tags,a=>(u(),m(h,{key:a,type:wa(a),size:"small",class:"news-tag"},{default:r(()=>[g(v(a.name),1)]),_:2},1032,["type"]))),128))])]),l("div",Z,[l("div",aa,[l("img",{class:"reporter-avatar",src:a.author.avatar,alt:a.author.name,onError:ha},null,40,sa),l("span",ea,v(a.author.name),1)]),l("div",la,[l("span",ta,[t(o,null,{default:r(()=>[t(d(x))]),_:1}),g(" "+v(a.views),1)]),l("div",ra,[t(o,null,{default:r(()=>[t(d(C))]),_:1}),l("span",null,v(a.likes||0),1)]),l("div",ia,[t(o,null,{default:r(()=>[t(d(b))]),_:1}),l("span",null,v(a.shares||0),1)]),l("div",ca,[t(o,null,{default:r(()=>[t(d(z))]),_:1}),l("span",null,v(a.comments||0),1)])])])])],8,K);var s}),128))]),pa.value?(u(),e("div",na,[t(A,{type:"primary",size:"large",loading:va.value,onClick:fa},{default:r(()=>s[1]||(s[1]=[g(" 加载更多 ",-1)])),_:1,__:[1]},8,["loading"])])):i("",!0),va.value||0!==da.value.length?i("",!0):(u(),e("div",oa,[t(o,{class:"empty-icon"},{default:r(()=>[t(d(I))]),_:1}),s[2]||(s[2]=l("h3",null,"暂无新闻资讯",-1)),s[3]||(s[3]=l("p",null,"期待更多精彩的资讯内容",-1))]))])])])}}},[["__scopeId","data-v-c6b7181d"]]);export{ua as default};
