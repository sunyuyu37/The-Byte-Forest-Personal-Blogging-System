import{_ as z,u as U,r as w,c as H,a as P,o as R,b as h,d as n,e,w as s,f as b,g as F,h as l,s as G,E as J,i as W,m as O,j as Q,k as X,l as p,n as Y,p as Z,q as ee,t as te,v as se,x as ne,y as oe,z as le,A as ae,B as ue,C as re,D as de,F as ie,G as r,H as S,I as C,J as _e,T as me,K as fe,L as pe}from"./index-Da7ZqcH5.js";/* empty css                     */import"./scrollbar-PN-ehNXN.js";/* empty css                  */import"./tooltip-l0sNRNKZ.js";import{E as ce,a as ve,b as ke,c as ge,d as he,e as ye}from"./index-R92uOlC6.js";import"./vnode-DsZHVpXe.js";import"./castArray-DVWVVBpp.js";import"./index-Ddj3Fd5B.js";const xe={class:"main-layout"},Ee={class:"header"},we={class:"container"},be={class:"header-content"},Se={class:"logo"},Ce={class:"nav"},Me={class:"user-actions"},Ie={class:"search"},De={key:0,class:"user-menu"},Te={class:"user-info"},Le={class:"username"},Ne={key:1,class:"auth-buttons"},Ve={class:"main"},Ae={class:"footer"},Be={class:"container"},je={class:"footer-content"},qe={class:"footer-links"},Ke={__name:"MainLayout",setup($e){const y=P(),m=X(),i=U(),M=o=>o.name==="Home"?"scale-fade":o.name==="ArticleDetail"?"depth-slide":o.name==="Search"?"quick-slide":["TechShare","LifeEssays","StudyNotes","ProjectPractice","NewsInfo","CompetitionEvents"].includes(o.name)?"card-flip":"smooth-slide",c=w(""),_=w(!1),I=H(()=>{const o=y.path;return o==="/"?"/":o.startsWith("/articles")?"/articles":o==="/search"?"/search":o==="/about"?"/about":(["/tech-share","/life-essays","/study-notes","/project-practice","/news-info","/competition-events"].includes(o),o)}),D=()=>{c.value.trim()&&m.push({path:"/search",query:{q:c.value.trim()}})},T=()=>{_.value=!_.value,document.documentElement.classList.toggle("dark",_.value),localStorage.setItem("theme",_.value?"dark":"light")},L=o=>{y.path!==o&&m.push(o)},N=o=>{switch(o){case"profile":m.push("/profile");break;case"admin":m.push("/admin");break;case"logout":i.logout(),pe.success("退出登录成功"),m.push("/");break}};return R(()=>{localStorage.getItem("theme")==="dark"&&(_.value=!0,document.documentElement.classList.add("dark"))}),(o,t)=>{const v=b("router-link"),a=Y,u=ke,V=ge,A=ce,B=J,k=Q,j=ie,g=ye,q=he,K=ve,$=b("router-view");return p(),h("div",xe,[n("header",Ee,[n("div",we,[n("div",be,[n("div",Se,[e(v,{to:"/"},{default:s(()=>t[3]||(t[3]=[n("h1",null,"个人博客",-1)])),_:1,__:[3]})]),n("nav",Ce,[e(A,{"default-active":I.value,mode:"horizontal",ellipsis:!1,"background-color":"transparent","text-color":"#333","active-text-color":"#409eff",onSelect:L},{default:s(()=>[e(u,{index:"/"},{default:s(()=>[e(a,null,{default:s(()=>[e(l(Z))]),_:1}),t[4]||(t[4]=n("span",null,"首页",-1))]),_:1,__:[4]}),e(V,{index:"modules"},{title:s(()=>[e(a,null,{default:s(()=>[e(l(ae))]),_:1}),t[5]||(t[5]=n("span",null,"模块",-1))]),default:s(()=>[e(u,{index:"/tech-share"},{default:s(()=>[e(a,null,{default:s(()=>[e(l(ee))]),_:1}),t[6]||(t[6]=n("span",null,"技术分享",-1))]),_:1,__:[6]}),e(u,{index:"/life-essays"},{default:s(()=>[e(a,null,{default:s(()=>[e(l(te))]),_:1}),t[7]||(t[7]=n("span",null,"生活随笔",-1))]),_:1,__:[7]}),e(u,{index:"/study-notes"},{default:s(()=>[e(a,null,{default:s(()=>[e(l(se))]),_:1}),t[8]||(t[8]=n("span",null,"学习笔记",-1))]),_:1,__:[8]}),e(u,{index:"/project-practice"},{default:s(()=>[e(a,null,{default:s(()=>[e(l(ne))]),_:1}),t[9]||(t[9]=n("span",null,"项目实战",-1))]),_:1,__:[9]}),e(u,{index:"/news-info"},{default:s(()=>[e(a,null,{default:s(()=>[e(l(oe))]),_:1}),t[10]||(t[10]=n("span",null,"新闻资讯",-1))]),_:1,__:[10]}),e(u,{index:"/competition-events"},{default:s(()=>[e(a,null,{default:s(()=>[e(l(le))]),_:1}),t[11]||(t[11]=n("span",null,"竞赛活动",-1))]),_:1,__:[11]})]),_:1}),e(u,{index:"/articles"},{default:s(()=>[e(a,null,{default:s(()=>[e(l(ue))]),_:1}),t[12]||(t[12]=n("span",null,"文章",-1))]),_:1,__:[12]}),e(u,{index:"/search"},{default:s(()=>[e(a,null,{default:s(()=>[e(l(re))]),_:1}),t[13]||(t[13]=n("span",null,"搜索",-1))]),_:1,__:[13]}),e(u,{index:"/about"},{default:s(()=>[e(a,null,{default:s(()=>[e(l(de))]),_:1}),t[14]||(t[14]=n("span",null,"关于",-1))]),_:1,__:[14]})]),_:1},8,["default-active"])]),n("div",Me,[n("div",Ie,[e(B,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=d=>c.value=d),placeholder:"搜索文章...","prefix-icon":l(G),onKeyup:F(D,["enter"]),clearable:""},null,8,["modelValue","prefix-icon"])]),e(k,{icon:_.value?l(W):l(O),circle:"",onClick:T},null,8,["icon"]),l(i).isLoggedIn?(p(),h("div",De,[e(K,{onCommand:N},{dropdown:s(()=>[e(q,null,{default:s(()=>[e(g,{command:"profile"},{default:s(()=>t[15]||(t[15]=[r("个人中心",-1)])),_:1,__:[15]}),l(i).isAdmin?(p(),C(g,{key:0,command:"admin"},{default:s(()=>t[16]||(t[16]=[r("管理后台",-1)])),_:1,__:[16]})):_e("",!0),e(g,{divided:"",command:"logout"},{default:s(()=>t[17]||(t[17]=[r("退出登录",-1)])),_:1,__:[17]})]),_:1})]),default:s(()=>{var d,f;return[n("span",Te,[e(j,{src:(d=l(i).user)==null?void 0:d.avatar,size:32},{default:s(()=>{var x,E;return[r(S((E=(x=l(i).user)==null?void 0:x.nickname)==null?void 0:E.charAt(0)),1)]}),_:1},8,["src"]),n("span",Le,S((f=l(i).user)==null?void 0:f.nickname),1)])]}),_:1})])):(p(),h("div",Ne,[e(k,{onClick:t[1]||(t[1]=d=>o.$router.push("/auth/login"))},{default:s(()=>t[18]||(t[18]=[r("登录",-1)])),_:1,__:[18]}),e(k,{type:"primary",onClick:t[2]||(t[2]=d=>o.$router.push("/auth/register"))},{default:s(()=>t[19]||(t[19]=[r("注册",-1)])),_:1,__:[19]})]))])])])]),n("main",Ve,[e($,null,{default:s(({Component:d,route:f})=>[e(me,{name:M(f),mode:"out-in"},{default:s(()=>[(p(),C(fe(d),{key:f.path}))]),_:2},1032,["name"])]),_:1})]),n("footer",Ae,[n("div",Be,[n("div",je,[t[23]||(t[23]=n("p",null,"© 2025 个人博客. All rights reserved.",-1)),n("div",qe,[e(v,{to:"/privacy",class:"footer-link"},{default:s(()=>t[20]||(t[20]=[r("隐私政策",-1)])),_:1,__:[20]}),e(v,{to:"/terms",class:"footer-link"},{default:s(()=>t[21]||(t[21]=[r("使用条款",-1)])),_:1,__:[21]}),e(v,{to:"/contact",class:"footer-link"},{default:s(()=>t[22]||(t[22]=[r("联系我们",-1)])),_:1,__:[22]})])])])])])}}},Oe=z(Ke,[["__scopeId","data-v-90066908"]]);export{Oe as default};
