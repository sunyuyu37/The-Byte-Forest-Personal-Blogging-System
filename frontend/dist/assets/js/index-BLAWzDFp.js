import{bL as k,br as C,bR as N,bk as J,cN as z,cL as B,bs as M,cR as Q,bt as v,bl as U,aQ as P,bm as Z,bZ as K,c5 as ee,dE as te,cE as se,cF as ae,r as le,es as ne,av as oe,c as u,bz as ie,a4 as x,b as h,J as re,l as y,d as b,ag as r,R as de,h as n,N as ce,O as ue,bx as be,by as E,ch as me,G as fe,H as ge,bA as pe}from"./index-Da7ZqcH5.js";import{L as I,v as S}from"./directive-iqmOBkSf.js";const w={label:"label",value:"value",disabled:"disabled"},ve=J({direction:{type:v(String),default:"horizontal"},options:{type:v(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},props:{type:v(Object),default:()=>w},block:Boolean,size:Q,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...M(["ariaLabel"])}),he={[B]:s=>k(s)||C(s)||N(s),[z]:s=>k(s)||C(s)||N(s)},ye=P({name:"ElSegmented"}),Ee=P({...ye,props:ve,emits:he,setup(s,{emit:_}){const a=s,l=Z("segmented"),F=K(),$=ee(),A=te(),{formItem:d}=se(),{inputId:O,isLabeledByFormItem:V}=ae(a,{formItemContext:d}),c=le(null),R=ne(),t=oe({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),T=e=>{const o=f(e);_(B,o),_(z,o)},m=u(()=>({...w,...a.props})),f=e=>E(e)?e[m.value.value]:e,D=e=>E(e)?e[m.value.label]:e,g=e=>!!(A.value||E(e)&&e[m.value.disabled]),L=e=>a.modelValue===f(e),X=e=>a.options.find(o=>f(o)===e),Y=e=>[l.e("item"),l.is("selected",L(e)),l.is("disabled",g(e))],p=()=>{if(!c.value)return;const e=c.value.querySelector(".is-selected"),o=c.value.querySelector(".is-selected input");if(!e||!o){t.width=0,t.height=0,t.translateX=0,t.translateY=0,t.focusVisible=!1;return}t.isInit=!0,a.direction==="vertical"?(t.height=e.offsetHeight,t.translateY=e.offsetTop):(t.width=e.offsetWidth,t.translateX=e.offsetLeft);try{t.focusVisible=o.matches(":focus-visible")}catch{}},H=u(()=>[l.b(),l.m($.value),l.is("block",a.block)]),j=u(()=>({width:a.direction==="vertical"?"100%":`${t.width}px`,height:a.direction==="vertical"?`${t.height}px`:"100%",transform:a.direction==="vertical"?`translateY(${t.translateY}px)`:`translateX(${t.translateX}px)`,display:t.isInit?"block":"none"})),q=u(()=>[l.e("item-selected"),l.is("disabled",g(X(a.modelValue))),l.is("focus-visible",t.focusVisible)]),G=u(()=>a.name||F.value);return ie(c,p),x(R,p),x(()=>a.modelValue,()=>{var e;p(),a.validateEvent&&((e=d==null?void 0:d.validate)==null||e.call(d,"change").catch(o=>me()))},{flush:"post"}),(e,o)=>e.options.length?(y(),h("div",{key:0,id:n(O),ref_key:"segmentedRef",ref:c,class:r(n(H)),role:"radiogroup","aria-label":n(V)?void 0:e.ariaLabel||"segmented","aria-labelledby":n(V)?n(d).labelId:void 0},[b("div",{class:r([n(l).e("group"),n(l).m(a.direction)])},[b("div",{style:de(n(j)),class:r(n(q))},null,6),(y(!0),h(ce,null,ue(e.options,(i,W)=>(y(),h("label",{key:W,class:r(Y(i))},[b("input",{class:r(n(l).e("item-input")),type:"radio",name:n(G),disabled:g(i),checked:L(i),onChange:Se=>T(i)},null,42,["name","disabled","checked","onChange"]),b("div",{class:r(n(l).e("item-label"))},[be(e.$slots,"default",{item:i},()=>[fe(ge(D(i)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):re("v-if",!0)}});var Ie=U(Ee,[["__file","segmented.vue"]]);const Le=pe(Ie),ke={install(s){I._context=s._context,S._context=s._context,s.directive("loading",S),s.config.globalProperties.$loading=I},directive:S,service:I};export{Le as E,ke as a};
