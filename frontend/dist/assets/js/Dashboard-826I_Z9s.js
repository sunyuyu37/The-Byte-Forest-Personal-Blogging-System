import{aQ as pt,aR as vt,aS as J,aT as q,aU as _t,c as k,aV as gt,a4 as K,aW as ct,o as dt,aX as bt,aY as yt,aZ as wt,h as p,_ as H,b as $,l as y,e as s,R as xt,u as Ct,r as L,d as t,H as v,w as d,j as St,n as Ot,I as R,N as et,O as st,X as kt,Q as Et,L as I,k as Dt,G as z,aH as ot,a0 as Lt,B as at,af as M,D as nt,au as F,a7 as it,U as lt,W as zt,ag as Tt,K as $t}from"./index-Da7ZqcH5.js";/* empty css                */import{i as At,t as Wt,u as Bt,a as Gt,b as Rt,c as It,d as Pt,e as Vt,f as Nt,g as Ut,h as jt,j as Yt,s as N}from"./install-q9dW89Dj.js";import{E as Ht,a as Mt}from"./index-BLAWzDFp.js";import"./directive-iqmOBkSf.js";const Ft=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function qt(o){function m(i){return(...h)=>{if(!o.value)throw new Error("ECharts is not initialized yet.");return o.value[i].apply(o.value,h)}}function l(){const i=Object.create(null);return Ft.forEach(h=>{i[h]=m(h)}),i}return l()}function Kt(o,m,l){K([l,o,m],([i,h,b],c,w)=>{let g=null;if(i&&h&&b){const{offsetWidth:x,offsetHeight:W}=i,B=b===!0?{}:b,{throttle:T=100,onResize:C}=B;let E=!1;const A=()=>{h.resize(),C==null||C()},U=T?Wt(A,T):A;g=new ResizeObserver(()=>{!E&&(E=!0,i.offsetWidth===x&&i.offsetHeight===W)||U()}),g.observe(i)}w(()=>{g&&(g.disconnect(),g=null)})})}const Xt={autoresize:[Boolean,Object]},Qt=/^on[^a-z]/,ut=o=>Qt.test(o);function Zt(o){const m={};for(const l in o)ut(l)||(m[l]=o[l]);return m}function X(o,m){const l=wt(o)?p(o):o;return l&&typeof l=="object"&&"value"in l?l.value||m:l||m}const Jt="ecLoadingOptions";function te(o,m,l){const i=q(Jt,{}),h=k(()=>({...X(i,{}),...l==null?void 0:l.value}));ct(()=>{const b=o.value;b&&(m.value?b.showLoading(h.value):b.hideLoading())})}const ee={loading:Boolean,loadingOptions:Object};let Y=null;const ft="x-vue-echarts";function se(){if(Y!=null)return Y;if(typeof HTMLElement>"u"||typeof customElements>"u")return Y=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(ft)}catch{return Y=!1}return Y=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const oe=se(),ae="ecTheme",ne="ecInitOptions",ie="ecUpdateOptions",rt=/(^&?~?!?)native:/;var le=pt({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...Xt,...ee},emits:{},inheritAttrs:!1,setup(o,{attrs:m}){const l=J(),i=J(),h=J(),b=q(ae,null),c=q(ne,null),w=q(ie,null),{autoresize:g,manualUpdate:x,loading:W,loadingOptions:B}=_t(o),T=k(()=>h.value||o.option||null),C=k(()=>o.theme||X(b,{})),E=k(()=>o.initOptions||X(c,{})),A=k(()=>o.updateOptions||X(w,{})),U=k(()=>Zt(m)),D={},P=gt().proxy.$listeners,G={};P?Object.keys(P).forEach(a=>{rt.test(a)?D[a.replace(rt,"$1")]=P[a]:G[a]=P[a]}):Object.keys(m).filter(a=>ut(a)).forEach(a=>{let r=a.charAt(2).toLowerCase()+a.slice(3);if(r.indexOf("native:")===0){const S=`on${r.charAt(7).toUpperCase()}${r.slice(8)}`;D[S]=m[a];return}r.substring(r.length-4)==="Once"&&(r=`~${r.substring(0,r.length-4)}`),G[r]=m[a]});function V(a){if(!l.value)return;const r=i.value=At(l.value,C.value,E.value);o.group&&(r.group=o.group),Object.keys(G).forEach(_=>{let O=G[_];if(!O)return;let u=_.toLowerCase();u.charAt(0)==="~"&&(u=u.substring(1),O.__once__=!0);let Z=r;if(u.indexOf("zr:")===0&&(Z=r.getZr(),u=u.substring(3)),O.__once__){delete O.__once__;const ht=O;O=(...mt)=>{ht(...mt),Z.off(u,O)}}Z.on(u,O)});function S(){r&&!r.isDisposed()&&r.resize()}function f(){const _=a||T.value;_&&r.setOption(_,A.value)}g.value?yt(()=>{S(),f()}):f()}function Q(a,r){o.manualUpdate&&(h.value=a),i.value?i.value.setOption(a,r||{}):V(a)}function j(){i.value&&(i.value.dispose(),i.value=void 0)}let n=null;K(x,a=>{typeof n=="function"&&(n(),n=null),a||(n=K(()=>o.option,(r,S)=>{r&&(i.value?i.value.setOption(r,{notMerge:r!==S,...A.value}):V())},{deep:!0}))},{immediate:!0}),K([C,E],()=>{j(),V()},{deep:!0}),ct(()=>{o.group&&i.value&&(i.value.group=o.group)});const e=qt(i);return te(i,W,B),Kt(i,g,l),dt(()=>{V()}),bt(()=>{oe&&l.value?l.value.__dispose=j:j()}),{chart:i,root:l,setOption:Q,nonEventAttrs:U,nativeListeners:D,...e}},render(){const o={...this.nonEventAttrs,...this.nativeListeners};return o.ref="root",o.class=o.class?["echarts"].concat(o.class):"echarts",vt(ft,o)}});const re={class:"chart-container"},ce={__name:"BaseChart",props:{option:{type:Object,required:!0},height:{type:String,default:"400px"},width:{type:String,default:"100%"}},emits:["chart-click"],setup(o,{emit:m}){Bt([Gt,Rt,It,Pt,Vt,Nt,Ut,jt,Yt]);const l=o,i=m,h=k(()=>({backgroundColor:"transparent",...l.option})),b=c=>{i("chart-click",c)};return(c,w)=>(y(),$("div",re,[s(p(le),{option:p(h),style:xt({height:o.height,width:o.width}),autoresize:!0,onClick:b},null,8,["option","style"])]))}},tt=H(ce,[["__scopeId","data-v-557e01a0"]]),de={class:"trend-chart"},ue={__name:"TrendChart",props:{data:{type:Object,default:()=>({dates:[],articles:[],views:[],comments:[]})},period:{type:String,default:"week"}},setup(o){const m=o,l=k(()=>{const{dates:i,articles:h,views:b,comments:c}=m.data;return{title:{text:"数据趋势分析",left:"center",top:15,textStyle:{color:"#2c3e50",fontSize:18,fontWeight:"700",fontFamily:"PingFang SC, Helvetica Neue, Arial, sans-serif"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"rgba(102, 126, 234, 0.8)",borderColor:"#667eea",borderWidth:1,color:"#fff"},lineStyle:{color:"rgba(102, 126, 234, 0.6)",type:"dashed"},crossStyle:{color:"rgba(102, 126, 234, 0.6)"}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#667eea",borderWidth:1,textStyle:{color:"#333",fontSize:14,fontWeight:"500"},extraCssText:"backdrop-filter: blur(10px); border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.15);",padding:[12,16]},legend:{data:["文章发布","阅读量","评论数"],bottom:5,textStyle:{color:"#64748b",fontSize:12,fontWeight:"500"},itemGap:24,icon:"circle",itemWidth:12,itemHeight:12},grid:{left:"5%",right:"8%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:i,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#64748b",fontSize:12,fontWeight:"500",margin:12},splitLine:{show:!0,lineStyle:{color:"rgba(100, 116, 139, 0.1)",type:"dashed"}}},yAxis:[{type:"value",name:"数量",position:"left",nameTextStyle:{color:"#64748b",fontSize:12,fontWeight:"500"},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#64748b",fontSize:12,fontWeight:"500"},splitLine:{lineStyle:{color:"rgba(100, 116, 139, 0.1)",type:"dashed"}}},{type:"value",name:"阅读量",position:"right",nameTextStyle:{color:"#64748b",fontSize:12,fontWeight:"500"},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#64748b",fontSize:12,fontWeight:"500"},splitLine:{show:!1}}],series:[{name:"文章发布",type:"line",data:h,smooth:!0,symbol:"circle",symbolSize:8,lineStyle:{color:"#667eea",width:4,shadowColor:"rgba(102, 126, 234, 0.3)",shadowBlur:10,shadowOffsetY:3},itemStyle:{color:"#667eea",borderColor:"#fff",borderWidth:3,shadowColor:"rgba(102, 126, 234, 0.4)",shadowBlur:8},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(102, 126, 234, 0.4)"},{offset:1,color:"rgba(102, 126, 234, 0.05)"}]}},emphasis:{itemStyle:{shadowBlur:15,shadowOffsetY:5}},animationDelay:0},{name:"评论数",type:"line",data:c,smooth:!0,symbol:"circle",symbolSize:8,lineStyle:{color:"#43e97b",width:4,shadowColor:"rgba(67, 233, 123, 0.3)",shadowBlur:10,shadowOffsetY:3},itemStyle:{color:"#43e97b",borderColor:"#fff",borderWidth:3,shadowColor:"rgba(67, 233, 123, 0.4)",shadowBlur:8},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(67, 233, 123, 0.4)"},{offset:1,color:"rgba(67, 233, 123, 0.05)"}]}},emphasis:{itemStyle:{shadowBlur:15,shadowOffsetY:5}},animationDelay:200},{name:"阅读量",type:"line",yAxisIndex:1,data:b,smooth:!0,symbol:"circle",symbolSize:8,lineStyle:{color:"#f093fb",width:4,shadowColor:"rgba(240, 147, 251, 0.3)",shadowBlur:10,shadowOffsetY:3},itemStyle:{color:"#f093fb",borderColor:"#fff",borderWidth:3,shadowColor:"rgba(240, 147, 251, 0.4)",shadowBlur:8},emphasis:{itemStyle:{shadowBlur:15,shadowOffsetY:5}},animationDelay:400}],animationEasing:"cubicOut",animationDuration:1e3}});return(i,h)=>(y(),$("div",de,[s(tt,{option:l.value,height:"350px"},null,8,["option"])]))}},fe=H(ue,[["__scopeId","data-v-f435874b"]]),he={class:"stats-overview-chart"},me={__name:"StatsOverviewChart",props:{data:{type:Object,default:()=>({categories:[],articles:[],views:[]})}},setup(o){const m=o,l=k(()=>{const{categories:i,articles:h,views:b}=m.data,c=[["#667eea","#764ba2"],["#f093fb","#f5576c"],["#4facfe","#00f2fe"],["#43e97b","#38f9d7"],["#fa709a","#fee140"],["#a8edea","#fed6e3"],["#ff9a9e","#fecfef"],["#ffecd2","#fcb69f"]],w=i.map((g,x)=>({name:g,value:h[x]||0,itemStyle:{color:{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:c[x%c.length][0]},{offset:1,color:c[x%c.length][1]}]},borderRadius:12,borderColor:"rgba(255, 255, 255, 0.8)",borderWidth:3,shadowColor:"rgba(0, 0, 0, 0.2)",shadowBlur:15,shadowOffsetY:5}}));return{title:{text:"分类文章分布",left:"center",top:15,textStyle:{color:"#2c3e50",fontSize:18,fontWeight:"700",fontFamily:"PingFang SC, Helvetica Neue, Arial, sans-serif"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} 篇 ({d}%)",backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#667eea",borderWidth:1,textStyle:{color:"#333",fontSize:14,fontWeight:"500"},extraCssText:"backdrop-filter: blur(10px); border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.15);",padding:[12,16]},legend:{orient:"horizontal",bottom:5,textStyle:{color:"#64748b",fontSize:12,fontWeight:"500"},itemGap:20,icon:"circle",itemWidth:12,itemHeight:12},series:[{name:"文章数量",type:"pie",radius:["45%","75%"],center:["50%","52%"],avoidLabelOverlap:!1,label:{show:!1},emphasis:{label:{show:!0,fontSize:16,fontWeight:"bold",color:"#333",formatter:`{b}
{c} 篇`},itemStyle:{shadowBlur:25,shadowOffsetX:0,shadowOffsetY:8,shadowColor:"rgba(0, 0, 0, 0.3)"},scaleSize:8},labelLine:{show:!1},data:w,animationType:"scale",animationEasing:"elasticOut",animationDelay:function(g){return g*150},animationDuration:1e3}]}});return(i,h)=>(y(),$("div",he,[s(tt,{option:l.value,height:"300px"},null,8,["option"])]))}},pe=H(me,[["__scopeId","data-v-a6b3af6b"]]),ve={class:"visit-chart"},_e={__name:"VisitChart",props:{data:{type:Object,default:()=>({hours:[],visits:[],uniqueVisits:[]})}},setup(o){const m=o,l=k(()=>{const{hours:i,visits:h,uniqueVisits:b}=m.data;return{title:{text:"今日访问量分布",left:"center",top:15,textStyle:{color:"#2c3e50",fontSize:18,fontWeight:"700",fontFamily:"PingFang SC, Helvetica Neue, Arial, sans-serif"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(102, 126, 234, 0.1)"}},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#667eea",borderWidth:1,textStyle:{color:"#333",fontSize:14,fontWeight:"500"},extraCssText:"backdrop-filter: blur(10px); border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.15);",padding:[12,16],formatter:function(c){let w=`${c[0].name}:00<br/>`;return c.forEach(g=>{w+=`${g.seriesName}: ${g.value} 次<br/>`}),w}},legend:{data:["总访问量","独立访客"],bottom:5,textStyle:{color:"#64748b",fontSize:12,fontWeight:"500"},itemGap:24,icon:"circle",itemWidth:12,itemHeight:12},grid:{left:"5%",right:"8%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:i,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#64748b",fontSize:12,fontWeight:"500",margin:12,formatter:function(c){return c+":00"}},splitLine:{show:!0,lineStyle:{color:"rgba(100, 116, 139, 0.1)",type:"dashed"}}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#64748b",fontSize:12,fontWeight:"500"},splitLine:{lineStyle:{color:"rgba(100, 116, 139, 0.1)",type:"dashed"}}},series:[{name:"总访问量",type:"bar",data:h,barWidth:"35%",itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#667eea"},{offset:1,color:"#764ba2"}]},borderRadius:[8,8,0,0],shadowColor:"rgba(102, 126, 234, 0.3)",shadowBlur:10,shadowOffsetY:3},emphasis:{itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#7c3aed"},{offset:1,color:"#a855f7"}]},shadowBlur:15,shadowOffsetY:5}},animationDelay:function(c){return c*50}},{name:"独立访客",type:"bar",data:b,barWidth:"35%",itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#43e97b"},{offset:1,color:"#38f9d7"}]},borderRadius:[8,8,0,0],shadowColor:"rgba(67, 233, 123, 0.3)",shadowBlur:10,shadowOffsetY:3},emphasis:{itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#10b981"},{offset:1,color:"#059669"}]},shadowBlur:15,shadowOffsetY:5}},animationDelay:function(c){return c*50+100}}],animationEasing:"cubicOut",animationDuration:1e3}});return(i,h)=>(y(),$("div",ve,[s(tt,{option:l.value,height:"280px"},null,8,["option"])]))}},ge=H(_e,[["__scopeId","data-v-a2b5c629"]]),be={class:"dashboard"},ye={class:"welcome-banner"},we={class:"welcome-content"},xe={class:"welcome-text"},Ce={class:"welcome-actions"},Se={class:"welcome-decoration"},Oe={class:"floating-icon"},ke={class:"floating-icon"},Ee={class:"floating-icon"},De={class:"stats-overview"},Le={class:"stat-card primary"},ze={class:"stat-header"},Te={class:"stat-icon"},$e={class:"stat-trend"},Ae={class:"stat-content"},We={class:"stat-number"},Be={class:"stat-desc"},Ge={class:"stat-card success"},Re={class:"stat-header"},Ie={class:"stat-icon"},Pe={class:"stat-trend"},Ve={class:"stat-content"},Ne={class:"stat-number"},Ue={class:"stat-desc"},je={class:"stat-card warning"},Ye={class:"stat-header"},He={class:"stat-icon"},Me={class:"stat-trend"},Fe={class:"stat-content"},qe={class:"stat-number"},Ke={class:"stat-desc"},Xe={class:"stat-card info"},Qe={class:"stat-header"},Ze={class:"stat-icon"},Je={class:"stat-trend"},ts={class:"stat-content"},es={class:"stat-number"},ss={class:"stat-desc"},os={class:"main-content"},as={class:"content-left"},ns={class:"chart-section"},is={class:"section-header"},ls={class:"chart-container"},rs={class:"charts-row"},cs={class:"chart-item"},ds={class:"chart-container"},us={class:"chart-item"},fs={class:"chart-container"},hs={class:"popular-articles"},ms={class:"section-header"},ps={class:"article-grid"},vs={class:"article-rank"},_s={class:"article-info"},gs={class:"article-stats"},bs={class:"content-right"},ys={class:"quick-actions"},ws={class:"action-grid"},xs={class:"recent-activities"},Cs={class:"activity-list"},Ss={class:"activity-content"},Os={class:"activity-text"},ks={class:"activity-time"},Es={class:"system-status"},Ds={class:"status-list"},Ls={class:"status-item"},zs={class:"status-item"},Ts={class:"status-item"},$s={class:"status-item"},As={__name:"Dashboard",setup(o){const m=Ct(),l=Dt(),i=k(()=>new Date().toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})),h=L("week"),b=[{label:"本周",value:"week"},{label:"本月",value:"month"},{label:"本年",value:"year"}],c=L({articleCount:0,viewCount:0,commentCount:0,userCount:0,articleGrowth:0,viewGrowth:0,commentGrowth:0,userGrowth:0,monthlyArticles:0,todayViews:0,pendingComments:0,weeklyUsers:0}),w=L([]),g=L([]),x=L(!1),W=L(!1),B=L(!1),T=L({dates:[],articles:[],views:[],comments:[]}),C=L({categories:[],articles:[],views:[]}),E=L({hours:[],visits:[],uniqueVisits:[]}),A=n=>n>=1e4?(n/1e4).toFixed(1)+"w":n>=1e3?(n/1e3).toFixed(1)+"k":n.toString(),U=n=>{if(!n)return"";const e=new Date(n),r=new Date-e;return r<6e4?"刚刚":r<36e5?Math.floor(r/6e4)+"分钟前":r<864e5?Math.floor(r/36e5)+"小时前":Math.floor(r/864e5)+"天前"},D=n=>{switch(n){case"article":l.push("/admin/articles/create");break;case"category":l.push("/admin/categories");break;case"comment":l.push("/admin/comments");break;case"user":l.push("/admin/users");break;case"stats":l.push("/admin/statistics");break;default:console.log("未知操作:",n)}},P=async()=>{try{const n=await N.getDashboardStats();if(n.code===200){const f=n.data;c.value={articleCount:f.articleCount||0,articleGrowth:12.5,monthlyArticles:3,viewCount:f.viewCount||0,viewGrowth:8.3,todayViews:89,commentCount:f.commentCount||0,commentGrowth:15.2,pendingComments:2,userCount:f.userCount||0,userGrowth:6.7,weeklyUsers:8}}const e=await Et.getPopularArticles({page:1,size:4});e.code===200&&e.data.content&&(w.value=e.data.content.map((f,_)=>({id:f.id,rank:_+1,title:f.title,views:f.viewCount||0,comments:f.commentCount||0,likes:f.likeCount||0})));const a=await N.getRecentArticles(2),r=await N.getRecentComments(2),S=[];a.code===200&&a.data&&a.data.forEach(f=>{var _;S.push({id:`article_${f.id}`,type:"article",icon:"Document",text:`用户 ${((_=f.author)==null?void 0:_.username)||"未知"} 发布了新文章《${f.title}》`,time:new Date(f.publishTime||f.createTime)})}),r.code===200&&r.data&&r.data.forEach(f=>{var _;S.push({id:`comment_${f.id}`,type:"comment",icon:"ChatDotRound",text:`用户 ${((_=f.author)==null?void 0:_.username)||"匿名"} 评论了文章`,time:new Date(f.createTime)})}),g.value=S.sort((f,_)=>new Date(_.time)-new Date(f.time)).slice(0,4)}catch(n){console.error("加载仪表板数据失败:",n),I.error("加载数据失败，请稍后重试"),c.value={articleCount:0,articleGrowth:0,monthlyArticles:0,viewCount:0,viewGrowth:0,todayViews:0,commentCount:0,commentGrowth:0,pendingComments:0,userCount:0,userGrowth:0,weeklyUsers:0},w.value=[],g.value=[]}},G=async(n="week")=>{x.value=!0;try{const e=await N.getTrendData(n);e.code===200&&e.data?T.value=e.data:(console.error("获取趋势数据失败:",e.message),I.error("获取趋势数据失败: "+(e.message||"未知错误")),T.value={dates:[],articles:[],views:[],comments:[]})}catch(e){console.error("加载趋势数据失败:",e),I.error("加载趋势数据失败"),T.value={dates:[],articles:[],views:[],comments:[]}}finally{x.value=!1}},V=async()=>{W.value=!0;try{const n=await N.getCategoryStats();n.code===200&&n.data?C.value=n.data:(console.error("获取分类数据失败:",n.message),I.error("获取分类数据失败: "+(n.message||"未知错误")),C.value={categories:[],articles:[],views:[]})}catch(n){console.error("加载分类数据失败:",n),I.error("加载分类数据失败"),C.value={categories:[],articles:[],views:[]}}finally{W.value=!1}},Q=async()=>{B.value=!0;try{const n=await N.getVisitStats("today");n.code===200&&n.data?E.value=n.data:(console.error("获取访问数据失败:",n.message),I.error("获取访问数据失败: "+(n.message||"未知错误")),E.value={hours:[],visits:[],uniqueVisits:[]})}catch(n){console.error("加载访问数据失败:",n),I.error("加载访问数据失败"),E.value={hours:[],visits:[],uniqueVisits:[]}}finally{B.value=!1}},j=n=>{G(n)};return dt(()=>{P(),G(h.value),V(),Q()}),(n,e)=>{var O;const a=Ot,r=St,S=Ht,f=Mt,_=kt;return y(),$("div",be,[t("div",ye,[t("div",we,[t("div",xe,[t("h1",null,"欢迎回来，"+v((O=p(m).user)==null?void 0:O.nickname)+"！",1),t("p",null,"今天是 "+v(i.value)+"，让我们开始创作吧",1)]),t("div",Ce,[s(r,{type:"primary",size:"large",onClick:e[0]||(e[0]=u=>D("article"))},{default:d(()=>[s(a,null,{default:d(()=>[s(p(ot))]),_:1}),e[8]||(e[8]=z(" 写新文章 ",-1))]),_:1,__:[8]}),s(r,{size:"large",onClick:e[1]||(e[1]=u=>D("stats"))},{default:d(()=>[s(a,null,{default:d(()=>[s(p(Lt))]),_:1}),e[9]||(e[9]=z(" 查看统计 ",-1))]),_:1,__:[9]})])]),t("div",Se,[t("div",Oe,[s(a,null,{default:d(()=>[s(p(at))]),_:1})]),t("div",ke,[s(a,null,{default:d(()=>[s(p(M))]),_:1})]),t("div",Ee,[s(a,null,{default:d(()=>[s(p(nt))]),_:1})])])]),t("div",De,[t("div",Le,[t("div",ze,[t("div",Te,[s(a,null,{default:d(()=>[s(p(at))]),_:1})]),t("div",$e,[s(a,null,{default:d(()=>[s(p(F))]),_:1}),t("span",null,"+"+v(c.value.articleGrowth)+"%",1)])]),t("div",Ae,[t("div",We,v(c.value.articleCount),1),e[10]||(e[10]=t("div",{class:"stat-label"},"文章总数",-1)),t("div",Be,"本月新增 "+v(c.value.monthlyArticles)+" 篇",1)])]),t("div",Ge,[t("div",Re,[t("div",Ie,[s(a,null,{default:d(()=>[s(p(it))]),_:1})]),t("div",Pe,[s(a,null,{default:d(()=>[s(p(F))]),_:1}),t("span",null,"+"+v(c.value.viewGrowth)+"%",1)])]),t("div",Ve,[t("div",Ne,v(A(c.value.viewCount)),1),e[11]||(e[11]=t("div",{class:"stat-label"},"总阅读量",-1)),t("div",Ue,"今日新增 "+v(c.value.todayViews)+" 次",1)])]),t("div",je,[t("div",Ye,[t("div",He,[s(a,null,{default:d(()=>[s(p(M))]),_:1})]),t("div",Me,[s(a,null,{default:d(()=>[s(p(F))]),_:1}),t("span",null,"+"+v(c.value.commentGrowth)+"%",1)])]),t("div",Fe,[t("div",qe,v(c.value.commentCount),1),e[12]||(e[12]=t("div",{class:"stat-label"},"评论总数",-1)),t("div",Ke,"待审核 "+v(c.value.pendingComments)+" 条",1)])]),t("div",Xe,[t("div",Qe,[t("div",Ze,[s(a,null,{default:d(()=>[s(p(lt))]),_:1})]),t("div",Je,[s(a,null,{default:d(()=>[s(p(F))]),_:1}),t("span",null,"+"+v(c.value.userGrowth)+"%",1)])]),t("div",ts,[t("div",es,v(c.value.userCount),1),e[13]||(e[13]=t("div",{class:"stat-label"},"用户总数",-1)),t("div",ss,"本周新增 "+v(c.value.weeklyUsers)+" 人",1)])])]),t("div",os,[t("div",as,[t("div",ns,[t("div",is,[e[14]||(e[14]=t("h3",null,"数据趋势",-1)),s(S,{modelValue:h.value,"onUpdate:modelValue":e[2]||(e[2]=u=>h.value=u),options:b,onChange:j},null,8,["modelValue"])]),t("div",ls,[x.value?(y(),R(f,{key:0,"element-loading-text":"加载图表数据..."},{default:d(()=>e[15]||(e[15]=[t("div",{style:{height:"350px"}},null,-1)])),_:1,__:[15]})):(y(),R(fe,{key:1,data:T.value,period:h.value},null,8,["data","period"]))])]),t("div",rs,[t("div",cs,[e[17]||(e[17]=t("div",{class:"section-header"},[t("h3",null,"分类分布")],-1)),t("div",ds,[W.value?(y(),R(f,{key:0,"element-loading-text":"加载数据..."},{default:d(()=>e[16]||(e[16]=[t("div",{style:{height:"300px"}},null,-1)])),_:1,__:[16]})):(y(),R(pe,{key:1,data:C.value},null,8,["data"]))])]),t("div",us,[e[19]||(e[19]=t("div",{class:"section-header"},[t("h3",null,"今日访问")],-1)),t("div",fs,[B.value?(y(),R(f,{key:0,"element-loading-text":"加载数据..."},{default:d(()=>e[18]||(e[18]=[t("div",{style:{height:"280px"}},null,-1)])),_:1,__:[18]})):(y(),R(ge,{key:1,data:E.value},null,8,["data"]))])])]),t("div",hs,[t("div",ms,[e[21]||(e[21]=t("h3",null,"热门文章",-1)),s(r,{type:"primary",link:"",onClick:e[3]||(e[3]=u=>n.$router.push("/admin/articles"))},{default:d(()=>e[20]||(e[20]=[z(" 查看全部 ",-1)])),_:1,__:[20]})]),t("div",ps,[(y(!0),$(et,null,st(w.value,u=>(y(),$("div",{key:u.id,class:"article-card"},[t("div",vs,v(u.rank),1),t("div",_s,[t("h4",null,v(u.title),1),t("div",gs,[t("span",null,[s(a,null,{default:d(()=>[s(p(it))]),_:1}),z(" "+v(A(u.views)),1)]),t("span",null,[s(a,null,{default:d(()=>[s(p(M))]),_:1}),z(" "+v(u.comments),1)]),t("span",null,[s(a,null,{default:d(()=>[s(p(nt))]),_:1}),z(" "+v(u.likes),1)])])])]))),128))])])]),t("div",bs,[t("div",ys,[e[26]||(e[26]=t("h3",null,"快速操作",-1)),t("div",ws,[t("div",{class:"action-item",onClick:e[4]||(e[4]=u=>D("article"))},[s(a,null,{default:d(()=>[s(p(ot))]),_:1}),e[22]||(e[22]=t("span",null,"写文章",-1))]),t("div",{class:"action-item",onClick:e[5]||(e[5]=u=>D("category"))},[s(a,null,{default:d(()=>[s(p(zt))]),_:1}),e[23]||(e[23]=t("span",null,"管理分类",-1))]),t("div",{class:"action-item",onClick:e[6]||(e[6]=u=>D("comment"))},[s(a,null,{default:d(()=>[s(p(M))]),_:1}),e[24]||(e[24]=t("span",null,"审核评论",-1))]),t("div",{class:"action-item",onClick:e[7]||(e[7]=u=>D("user"))},[s(a,null,{default:d(()=>[s(p(lt))]),_:1}),e[25]||(e[25]=t("span",null,"用户管理",-1))])])]),t("div",xs,[e[27]||(e[27]=t("h3",null,"最新动态",-1)),t("div",Cs,[(y(!0),$(et,null,st(g.value,u=>(y(),$("div",{key:u.id,class:"activity-item"},[t("div",{class:Tt(["activity-icon",u.type])},[s(a,null,{default:d(()=>[(y(),R($t(u.icon)))]),_:2},1024)],2),t("div",Ss,[t("div",Os,v(u.text),1),t("div",ks,v(U(u.time)),1)])]))),128))])]),t("div",Es,[e[36]||(e[36]=t("h3",null,"系统状态",-1)),t("div",Ds,[t("div",Ls,[e[29]||(e[29]=t("div",{class:"status-label"},"服务器状态",-1)),s(_,{type:"success"},{default:d(()=>e[28]||(e[28]=[z("正常",-1)])),_:1,__:[28]})]),t("div",zs,[e[31]||(e[31]=t("div",{class:"status-label"},"数据库连接",-1)),s(_,{type:"success"},{default:d(()=>e[30]||(e[30]=[z("正常",-1)])),_:1,__:[30]})]),t("div",Ts,[e[33]||(e[33]=t("div",{class:"status-label"},"缓存服务",-1)),s(_,{type:"success"},{default:d(()=>e[32]||(e[32]=[z("正常",-1)])),_:1,__:[32]})]),t("div",$s,[e[35]||(e[35]=t("div",{class:"status-label"},"存储空间",-1)),s(_,{type:"warning"},{default:d(()=>e[34]||(e[34]=[z("75% 已使用",-1)])),_:1,__:[34]})])])])])])])}}},Ps=H(As,[["__scopeId","data-v-d0c27ee5"]]);export{Ps as default};
