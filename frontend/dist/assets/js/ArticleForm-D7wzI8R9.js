import{b7 as T,_ as He,r as g,av as ze,c as X,a as Pe,o as je,b as k,d,e as t,H,w as o,j as Oe,b8 as qe,L as m,k as Ne,f as v,l as b,G as u,E as Je,a6 as Ge,n as We,N as Y,O as Z,I as ee,J as te,b9 as Qe,ba as Ke}from"./index-Da7ZqcH5.js";/* empty css                *//* empty css                  *//* empty css            */import"./scrollbar-PN-ehNXN.js";/* empty css               *//* empty css               *//* empty css                 *//* empty css               *//* empty css             *//* empty css                 *//* empty css                     *//* empty css              */import{h as Xe,i as Ye,j as Ze,k as et,l as tt,m as ot,s as lt}from"./positionedConfirm-C6ixQw3s.js";import{g as at}from"./placeholder-BiywPu__.js";import{a as nt}from"./tag-BSfDvdma.js";import{c as st}from"./category-BuqsFtfq.js";import{E as rt,a as it}from"./index-BJ8ssZSI.js";import{E as dt,a as ut}from"./index-Chbwi6h6.js";import{E as mt}from"./index-lPpvXrw4.js";import{E as pt,a as ct}from"./index-mDFjMy5P.js";import{E as ft,a as gt}from"./index-CZyikzse.js";import"./vnode-DsZHVpXe.js";import"./index-k6BulDX8.js";import"./isEqual-HUGtL056.js";import"./_Uint8Array-CNK7Frb1.js";import"./index-BwTCsBpr.js";import"./castArray-DVWVVBpp.js";import"./index-Ddj3Fd5B.js";import"./index-R92uOlC6.js";import"./index-DuvIoQvO.js";import"./index-DSEo_ZHY.js";import"./index-ViZWhRvA.js";import"./index-BLAWzDFp.js";import"./directive-iqmOBkSf.js";const oe={uploadFile(f){const p=new FormData;return p.append("file",f),T({url:"/files/upload",method:"post",data:p,headers:{"Content-Type":"multipart/form-data"}})},uploadAvatar(f){const p=new FormData;return p.append("file",f),T({url:"/files/upload/avatar",method:"post",data:p,headers:{"Content-Type":"multipart/form-data"}})},getUserFiles(f={}){return T({url:"/files/user",method:"get",params:{page:f.page||0,size:f.size||10,sortBy:f.sortBy||"createdAt",sortDir:f.sortDir||"desc"}})},getUserImageFiles(){return T({url:"/files/user/images",method:"get"})},searchFiles(f,p={}){return T({url:"/files/search",method:"get",params:{keyword:f,page:p.page||0,size:p.size||10,sortBy:p.sortBy||"createdAt",sortDir:p.sortDir||"desc"}})},deleteFile(f){return T({url:`/files/${f}`,method:"delete"})},getFileStats(){return T({url:"/files/stats",method:"get"})}},_t={class:"article-form"},vt={class:"page-header"},yt={class:"header-actions"},wt={class:"form-container"},bt={class:"editor-container"},kt={key:0,class:"markdown-container"},Ct={class:"editor-toolbar"},Vt=["innerHTML"],Tt={key:1,class:"rich-editor-container"},It={class:"rich-editor-toolbar"},Et=["innerHTML"],xt={key:2,class:"text-editor-container"},Ut={class:"cover-upload"},Rt={key:0,class:"cover-preview"},St=["src"],$t={class:"preview-actions"},At={key:0,class:"uploaded-image-preview"},Bt=["src"],Lt={class:"image-url-copy"},ht={class:"insert-actions"},Dt={class:"dialog-footer"},Mt={__name:"ArticleForm",setup(f){const p=Pe(),B=Ne(),L=g(),le=g(),ae=g(),h=g(),x=g(),D=g(!1),M=g(!1),U=g(!1),z=g("markdown"),C=g(!1),_=g(""),R=g([]),S=g([]),l=ze({id:null,title:"",summary:"",content:"",contentType:"markdown",categoryId:null,tags:[],coverImage:"",status:"draft",isTop:!1,isRecommend:!1,allowComment:!0,publishTime:null,keywords:"",description:""}),ne={title:[{required:!0,message:"请输入文章标题",trigger:"blur"},{min:1,max:100,message:"标题长度在 1 到 100 个字符",trigger:"blur"}],summary:[{required:!0,message:"请输入文章摘要",trigger:"blur"},{min:1,max:200,message:"摘要长度在 1 到 200 个字符",trigger:"blur"}],content:[{required:!0,message:"请输入文章内容",trigger:"blur"},{min:10,message:"内容至少需要 10 个字符",trigger:"blur"}],categoryId:[{required:!0,message:"请选择文章分类",trigger:"change"}]},I=X(()=>!!p.params.id&&p.params.id!=="new"),se=X(()=>l.content.replace(/\n/g,"<br>")),re=()=>{B.push("/admin/articles")},ie=async()=>{try{console.log("开始保存草稿"),await L.value.validate(),D.value=!0,l.status="draft",await P()&&(console.log("草稿保存成功"),m.success("草稿保存成功！"))}catch(s){console.error("保存草稿失败:",s),console.error("错误类型:",typeof s),console.error("错误对象:",s);const e=s.message||"保存失败，请检查网络连接或稍后重试";console.error("显示错误消息:",e),m.error(e)}finally{D.value=!1}},de=async()=>{try{console.log("开始发布文章"),await L.value.validate(),M.value=!0;const s=l.status;l.status="published",l.publishTime=l.publishTime||new Date,await P()&&(console.log("文章发布成功"),m.success(I.value?"文章更新并发布成功！":"文章发布成功！"),setTimeout(()=>{B.push("/admin/articles")},1500))}catch(s){if(console.error("发布文章失败:",s),console.error("错误类型:",typeof s),console.error("错误对象:",s),s!=="validation failed"){const e=s.message||"发布失败，请检查网络连接或稍后重试";console.error("显示错误消息:",e),m.error(e)}}finally{M.value=!1}},P=async()=>{var s;try{const e=l.tags.map(r=>typeof r=="string"?{name:r}:r),a={title:l.title,summary:l.summary,content:l.content,categoryId:l.categoryId,tags:e,coverImage:l.coverImage,status:l.status,isTop:l.isTop,isRecommend:l.isRecommend,allowComment:l.allowComment,publishTime:l.publishTime,keywords:l.keywords,description:l.description};console.log("准备保存文章数据:",a),console.log("是否为编辑模式:",I.value),console.log("文章ID:",p.params.id);let i;if(I.value?(console.log("调用更新文章API"),i=await Qe(p.params.id,a)):(console.log("调用创建文章API"),i=await Ke(a)),console.log("API响应:",i),i.code===200)return!I.value&&((s=i.data)!=null&&s.id)&&B.replace(`/admin/articles/${i.data.id}/edit`),!0;throw new Error(i.message||"保存失败")}catch(e){throw console.error("保存文章失败:",e),console.error("错误详情:",{message:e.message,response:e.response,stack:e.stack}),e}},ue=s=>{const e=s.type.startsWith("image/"),a=s.size/1024/1024<10;return e?a?!0:(m.error("上传图片大小不能超过 10MB!"),!1):(m.error("只能上传图片文件!"),!1)},me=async s=>{const{file:e}=s;try{U.value=!0;const a=await oe.uploadFile(e);if(a.code===200)l.coverImage=a.data.fileUrl,m.success("图片上传成功!");else throw new Error(a.message||"上传失败")}catch(a){console.error("图片上传失败:",a),m.error(a.message||"图片上传失败，请重试")}finally{U.value=!1}},pe=()=>{l.coverImage="",m.success("封面图片已删除")},ce=async(s,e)=>{if(l.content&&s!==l.contentType)try{await lt("切换内容格式将可能导致格式丢失，是否继续？","警告",{confirmButtonText:"确定",cancelButtonText:"取消"},e)}catch{l.contentType=l.contentType}},V=(s,e)=>{var E;const a=(E=h.value)==null?void 0:E.textarea;if(!a)return;const i=a.selectionStart,r=a.selectionEnd,w=l.content.substring(i,r),$=s+w+e;l.content=l.content.substring(0,i)+$+l.content.substring(r),setTimeout(()=>{a.focus(),a.setSelectionRange(i+s.length,i+s.length+w.length)},0)},y=(s,e=null)=>{var a;document.execCommand(s,!1,e),(a=x.value)==null||a.focus()},fe=()=>{const s=prompt("请输入链接地址:");s&&(l.contentType==="markdown"?V("[链接文字](",`${s})`):y("createLink",s))},ge=s=>{l.content=s.target.innerHTML},_e=s=>{s.preventDefault();const e=s.clipboardData.getData("text/plain");document.execCommand("insertText",!1,e)},ve=s=>{const e=s.type.startsWith("image/"),a=s.size/1024/1024<10;return e?a?!0:(m.error("上传图片大小不能超过 10MB!"),!1):(m.error("只能上传图片文件!"),!1)},ye=async s=>{const{file:e}=s;try{const a=await oe.uploadFile(e);if(a.code===200)_.value=a.data.fileUrl,m.success("图片上传成功!");else throw new Error(a.message||"上传失败")}catch(a){console.error("图片上传失败:",a),m.error(a.message||"图片上传失败，请重试")}},we=async()=>{try{await navigator.clipboard.writeText(_.value),m.success("图片链接已复制到剪贴板")}catch{const e=document.createElement("textarea");e.value=_.value,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),m.success("图片链接已复制到剪贴板")}},be=()=>{var s;if(_.value){if(l.contentType==="markdown"){const e=`![图片描述](${_.value})`,a=(s=h.value)==null?void 0:s.textarea;if(a){const i=a.selectionStart;l.content=l.content.substring(0,i)+e+l.content.substring(i),setTimeout(()=>{a.focus(),a.setSelectionRange(i+e.length,i+e.length)},0)}else l.content+=e}else if(l.contentType==="html"){const e=`<img src="${_.value}" alt="图片描述" style="max-width: 100%; height: auto;" />`;x.value?(x.value.focus(),document.execCommand("insertHTML",!1,e)):l.content+=e}C.value=!1,_.value="",m.success("图片已插入到编辑器")}},ke=()=>{_.value="",C.value=!1},Ce=async()=>{try{const s=await st.getAllCategories();s.code===200?R.value=s.data||[]:(console.error("加载分类失败:",s.message),R.value=[{id:1,name:"技术分享"},{id:2,name:"生活随笔"},{id:3,name:"学习笔记"},{id:4,name:"项目实战"},{id:5,name:"新闻资讯"},{id:6,name:"竞赛活动"}])}catch(s){console.error("加载分类失败:",s),R.value=[{id:1,name:"技术分享"},{id:2,name:"生活随笔"},{id:3,name:"学习笔记"},{id:4,name:"项目实战"},{id:5,name:"新闻资讯"},{id:6,name:"竞赛活动"}]}},Ve=async()=>{try{const s=await nt();s.code===200?S.value=s.data||[]:(console.error("加载标签失败:",s.message),S.value=[{id:1,name:"Vue.js"},{id:2,name:"React"},{id:3,name:"JavaScript"},{id:4,name:"TypeScript"},{id:5,name:"Node.js"},{id:6,name:"Spring Boot"},{id:7,name:"MySQL"},{id:8,name:"Redis"}])}catch(s){console.error("加载标签失败:",s),S.value=[{id:1,name:"Vue.js"},{id:2,name:"React"},{id:3,name:"JavaScript"},{id:4,name:"TypeScript"},{id:5,name:"Node.js"},{id:6,name:"Spring Boot"},{id:7,name:"MySQL"},{id:8,name:"Redis"}]}},Te=async s=>{var e,a;try{const i=await qe(s);if(i.code===200){const r=i.data;Object.assign(l,{title:r.title||"",summary:r.summary||"",content:r.content||"",categoryId:((e=r.category)==null?void 0:e.id)||null,tags:((a=r.tags)==null?void 0:a.map(w=>w.name))||[],coverImage:r.coverImage||"",status:r.status?r.status.toLowerCase():"draft",isTop:r.isTop||!1,isRecommend:r.isRecommend||!1,allowComment:r.allowComment!==!1,publishTime:r.publishedAt?new Date(r.publishedAt):null,keywords:r.keywords||"",description:r.description||""})}else m.error(i.message||"加载文章失败")}catch(i){console.error("加载文章失败:",i),m.error("加载文章失败");const r={title:"示例文章标题",summary:"这是一篇示例文章的摘要",content:`# 示例文章

这是文章的内容...`,categoryId:1,tags:["Vue.js","JavaScript"],coverImage:at(400,200),status:"published",isTop:!1,isRecommend:!0,allowComment:!0,publishTime:new Date,keywords:"Vue.js,前端开发",description:"这是一篇关于Vue.js的文章"};Object.assign(l,r)}};return je(async()=>{await Promise.all([Ce(),Ve()]),I.value&&await Te(p.params.id)}),(s,e)=>{const a=Oe,i=Je,r=it,w=Ze,$=Ye,E=v("Bold"),c=We,j=v("Italic"),Ie=v("Code"),Ee=v("Picture"),O=v("Link"),xe=v("Heading"),A=Ge,q=v("Upload"),N=tt,Ue=et,Re=v("Underline"),Se=v("Strikethrough"),$e=v("List"),Ae=v("Numbered"),J=mt,G=ut,W=ct,Q=pt,K=ft,F=gt,Be=ot,Le=dt,he=rt,De=v("upload-filled"),Me=Xe;return b(),k("div",_t,[d("div",vt,[d("h1",null,H(I.value?"编辑文章":"新建文章"),1),d("div",yt,[t(a,{onClick:re},{default:o(()=>e[39]||(e[39]=[u("返回",-1)])),_:1,__:[39]}),t(a,{type:"info",onClick:ie,loading:D.value},{default:o(()=>e[40]||(e[40]=[u(" 保存草稿 ",-1)])),_:1,__:[40]},8,["loading"]),t(a,{type:"primary",onClick:de,loading:M.value},{default:o(()=>[u(H(l.status&&l.status.toLowerCase()==="published"?"更新发布":"发布文章"),1)]),_:1},8,["loading"])])]),d("div",wt,[t(he,{ref_key:"formRef",ref:L,model:l,rules:ne,"label-width":"100px",class:"article-form-content"},{default:o(()=>[t(Le,{gutter:20},{default:o(()=>[t(G,{span:16},{default:o(()=>[t(J,{class:"content-card"},{default:o(()=>[t(r,{label:"文章标题",prop:"title"},{default:o(()=>[t(i,{modelValue:l.title,"onUpdate:modelValue":e[0]||(e[0]=n=>l.title=n),placeholder:"请输入文章标题",maxlength:"100","show-word-limit":""},null,8,["modelValue"])]),_:1}),t(r,{label:"文章摘要",prop:"summary"},{default:o(()=>[t(i,{modelValue:l.summary,"onUpdate:modelValue":e[1]||(e[1]=n=>l.summary=n),type:"textarea",rows:3,placeholder:"请输入文章摘要",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1}),t(r,{label:"内容格式"},{default:o(()=>[t($,{modelValue:l.contentType,"onUpdate:modelValue":e[2]||(e[2]=n=>l.contentType=n),onChange:e[3]||(e[3]=(n,Fe)=>ce(n,Fe))},{default:o(()=>[t(w,{label:"markdown"},{default:o(()=>e[41]||(e[41]=[u("Markdown",-1)])),_:1,__:[41]}),t(w,{label:"html"},{default:o(()=>e[42]||(e[42]=[u("富文本(HTML)",-1)])),_:1,__:[42]}),t(w,{label:"text"},{default:o(()=>e[43]||(e[43]=[u("纯文本",-1)])),_:1,__:[43]})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"文章内容",prop:"content"},{default:o(()=>[d("div",bt,[l.contentType==="markdown"?(b(),k("div",kt,[t(Ue,{modelValue:z.value,"onUpdate:modelValue":e[12]||(e[12]=n=>z.value=n),class:"editor-tabs"},{default:o(()=>[t(N,{label:"编辑",name:"markdown"},{default:o(()=>[d("div",Ct,[t(A,{size:"small"},{default:o(()=>[t(a,{onClick:e[4]||(e[4]=n=>V("**","**")),title:"加粗"},{default:o(()=>[t(c,null,{default:o(()=>[t(E)]),_:1})]),_:1}),t(a,{onClick:e[5]||(e[5]=n=>V("*","*")),title:"斜体"},{default:o(()=>[t(c,null,{default:o(()=>[t(j)]),_:1})]),_:1}),t(a,{onClick:e[6]||(e[6]=n=>V("`","`")),title:"代码"},{default:o(()=>[t(c,null,{default:o(()=>[t(Ie)]),_:1})]),_:1}),t(a,{onClick:e[7]||(e[7]=n=>V("![图片描述](",")")),title:"插入图片"},{default:o(()=>[t(c,null,{default:o(()=>[t(Ee)]),_:1})]),_:1}),t(a,{onClick:e[8]||(e[8]=n=>V("[链接文字](",")")),title:"插入链接"},{default:o(()=>[t(c,null,{default:o(()=>[t(O)]),_:1})]),_:1}),t(a,{onClick:e[9]||(e[9]=n=>V(`
### `,"")),title:"标题"},{default:o(()=>[t(c,null,{default:o(()=>[t(xe)]),_:1})]),_:1})]),_:1}),t(a,{size:"small",onClick:e[10]||(e[10]=n=>C.value=!0),type:"primary"},{default:o(()=>[t(c,null,{default:o(()=>[t(q)]),_:1}),e[44]||(e[44]=u(" 上传图片 ",-1))]),_:1,__:[44]})]),t(i,{ref_key:"markdownTextarea",ref:h,modelValue:l.content,"onUpdate:modelValue":e[11]||(e[11]=n=>l.content=n),type:"textarea",rows:20,placeholder:"请输入文章内容（支持Markdown语法）",class:"markdown-editor"},null,8,["modelValue"])]),_:1}),t(N,{label:"预览",name:"preview"},{default:o(()=>[d("div",{class:"markdown-preview",innerHTML:se.value},null,8,Vt)]),_:1})]),_:1},8,["modelValue"])])):l.contentType==="html"?(b(),k("div",Tt,[d("div",It,[t(A,{size:"small"},{default:o(()=>[t(a,{onClick:e[13]||(e[13]=n=>y("bold")),title:"加粗"},{default:o(()=>[t(c,null,{default:o(()=>[t(E)]),_:1})]),_:1}),t(a,{onClick:e[14]||(e[14]=n=>y("italic")),title:"斜体"},{default:o(()=>[t(c,null,{default:o(()=>[t(j)]),_:1})]),_:1}),t(a,{onClick:e[15]||(e[15]=n=>y("underline")),title:"下划线"},{default:o(()=>[t(c,null,{default:o(()=>[t(Re)]),_:1})]),_:1}),t(a,{onClick:e[16]||(e[16]=n=>y("strikeThrough")),title:"删除线"},{default:o(()=>[t(c,null,{default:o(()=>[t(Se)]),_:1})]),_:1})]),_:1}),t(A,{size:"small"},{default:o(()=>[t(a,{onClick:e[17]||(e[17]=n=>y("formatBlock","h1")),title:"标题1"},{default:o(()=>e[45]||(e[45]=[u("H1",-1)])),_:1,__:[45]}),t(a,{onClick:e[18]||(e[18]=n=>y("formatBlock","h2")),title:"标题2"},{default:o(()=>e[46]||(e[46]=[u("H2",-1)])),_:1,__:[46]}),t(a,{onClick:e[19]||(e[19]=n=>y("formatBlock","h3")),title:"标题3"},{default:o(()=>e[47]||(e[47]=[u("H3",-1)])),_:1,__:[47]}),t(a,{onClick:e[20]||(e[20]=n=>y("formatBlock","p")),title:"段落"},{default:o(()=>e[48]||(e[48]=[u("P",-1)])),_:1,__:[48]})]),_:1}),t(A,{size:"small"},{default:o(()=>[t(a,{onClick:e[21]||(e[21]=n=>y("insertUnorderedList")),title:"无序列表"},{default:o(()=>[t(c,null,{default:o(()=>[t($e)]),_:1})]),_:1}),t(a,{onClick:e[22]||(e[22]=n=>y("insertOrderedList")),title:"有序列表"},{default:o(()=>[t(c,null,{default:o(()=>[t(Ae)]),_:1})]),_:1}),t(a,{onClick:e[23]||(e[23]=n=>fe()),title:"插入链接"},{default:o(()=>[t(c,null,{default:o(()=>[t(O)]),_:1})]),_:1})]),_:1}),t(a,{size:"small",onClick:e[24]||(e[24]=n=>C.value=!0),type:"primary"},{default:o(()=>[t(c,null,{default:o(()=>[t(q)]),_:1}),e[49]||(e[49]=u(" 上传图片 ",-1))]),_:1,__:[49]})]),d("div",{ref_key:"richEditor",ref:x,class:"rich-editor",contenteditable:"true",onInput:ge,onPaste:_e,innerHTML:l.content},null,40,Et)])):(b(),k("div",xt,[t(i,{modelValue:l.content,"onUpdate:modelValue":e[25]||(e[25]=n=>l.content=n),type:"textarea",rows:20,placeholder:"请输入文章内容（纯文本）",class:"text-editor"},null,8,["modelValue"])]))])]),_:1})]),_:1})]),_:1}),t(G,{span:8},{default:o(()=>[t(J,{class:"settings-card"},{header:o(()=>e[50]||(e[50]=[d("span",null,"文章设置",-1)])),default:o(()=>[t(r,{label:"文章分类",prop:"categoryId"},{default:o(()=>[t(Q,{modelValue:l.categoryId,"onUpdate:modelValue":e[26]||(e[26]=n=>l.categoryId=n),placeholder:"请选择分类",style:{width:"100%"}},{default:o(()=>[(b(!0),k(Y,null,Z(R.value,n=>(b(),ee(W,{key:n.id,label:n.name,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"文章标签",prop:"tags"},{default:o(()=>[t(Q,{modelValue:l.tags,"onUpdate:modelValue":e[27]||(e[27]=n=>l.tags=n),multiple:"",filterable:"","allow-create":"",placeholder:"请选择或创建标签",style:{width:"100%"}},{default:o(()=>[(b(!0),k(Y,null,Z(S.value,n=>(b(),ee(W,{key:n.id,label:n.name,value:n.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"封面图片"},{default:o(()=>[d("div",Ut,[t(i,{modelValue:l.coverImage,"onUpdate:modelValue":e[28]||(e[28]=n=>l.coverImage=n),placeholder:"请输入图片URL或上传图片"},null,8,["modelValue"]),t(K,{ref_key:"uploadRef",ref:le,"show-file-list":!1,"before-upload":ue,"http-request":me,accept:"image/*",class:"upload-demo"},{default:o(()=>[t(a,{type:"primary",class:"upload-btn",loading:U.value},{default:o(()=>[u(H(U.value?"上传中...":"上传图片"),1)]),_:1},8,["loading"])]),_:1},512),l.coverImage?(b(),k("div",Rt,[d("img",{src:l.coverImage,alt:"封面预览"},null,8,St),d("div",$t,[t(a,{size:"small",type:"danger",onClick:pe},{default:o(()=>e[51]||(e[51]=[u(" 删除 ",-1)])),_:1,__:[51]})])])):te("",!0)])]),_:1}),t(r,{label:"文章状态"},{default:o(()=>[t($,{modelValue:l.status,"onUpdate:modelValue":e[29]||(e[29]=n=>l.status=n)},{default:o(()=>[t(w,{label:"draft"},{default:o(()=>e[52]||(e[52]=[u("草稿",-1)])),_:1,__:[52]}),t(w,{label:"published"},{default:o(()=>e[53]||(e[53]=[u("已发布",-1)])),_:1,__:[53]})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"是否置顶"},{default:o(()=>[t(F,{modelValue:l.isTop,"onUpdate:modelValue":e[30]||(e[30]=n=>l.isTop=n)},null,8,["modelValue"])]),_:1}),t(r,{label:"是否推荐"},{default:o(()=>[t(F,{modelValue:l.isRecommend,"onUpdate:modelValue":e[31]||(e[31]=n=>l.isRecommend=n)},null,8,["modelValue"])]),_:1}),t(r,{label:"允许评论"},{default:o(()=>[t(F,{modelValue:l.allowComment,"onUpdate:modelValue":e[32]||(e[32]=n=>l.allowComment=n)},null,8,["modelValue"])]),_:1}),t(r,{label:"发布时间"},{default:o(()=>[t(Be,{modelValue:l.publishTime,"onUpdate:modelValue":e[33]||(e[33]=n=>l.publishTime=n),type:"datetime",placeholder:"选择发布时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),t(r,{label:"SEO关键词"},{default:o(()=>[t(i,{modelValue:l.keywords,"onUpdate:modelValue":e[34]||(e[34]=n=>l.keywords=n),placeholder:"请输入SEO关键词，用逗号分隔"},null,8,["modelValue"])]),_:1}),t(r,{label:"SEO描述"},{default:o(()=>[t(i,{modelValue:l.description,"onUpdate:modelValue":e[35]||(e[35]=n=>l.description=n),type:"textarea",rows:3,placeholder:"请输入SEO描述"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),t(Me,{modelValue:C.value,"onUpdate:modelValue":e[38]||(e[38]=n=>C.value=n),title:"上传图片",width:"500px","before-close":ke},{footer:o(()=>[d("span",Dt,[t(a,{onClick:e[37]||(e[37]=n=>C.value=!1)},{default:o(()=>e[59]||(e[59]=[u("取消",-1)])),_:1,__:[59]})])]),default:o(()=>[t(K,{ref_key:"imageUploadRef",ref:ae,"show-file-list":!1,"before-upload":ve,"http-request":ye,accept:"image/*",drag:"",class:"image-upload-area"},{tip:o(()=>e[54]||(e[54]=[d("div",{class:"el-upload__tip"}," 支持 jpg/png/gif/webp 格式，文件大小不超过 10MB ",-1)])),default:o(()=>[t(c,{class:"el-icon--upload"},{default:o(()=>[t(De)]),_:1}),e[55]||(e[55]=d("div",{class:"el-upload__text"},[u(" 将图片拖拽到此处，或"),d("em",null,"点击上传")],-1))]),_:1,__:[55]},512),_.value?(b(),k("div",At,[e[58]||(e[58]=d("h4",null,"上传成功！",-1)),d("img",{src:_.value,alt:"上传的图片"},null,8,Bt),d("div",Lt,[t(i,{modelValue:_.value,"onUpdate:modelValue":e[36]||(e[36]=n=>_.value=n),readonly:""},{append:o(()=>[t(a,{onClick:we},{default:o(()=>e[56]||(e[56]=[u("复制链接",-1)])),_:1,__:[56]})]),_:1},8,["modelValue"])]),d("div",ht,[t(a,{onClick:be,type:"primary"},{default:o(()=>e[57]||(e[57]=[u(" 插入到编辑器 ",-1)])),_:1,__:[57]})])])):te("",!0)]),_:1},8,["modelValue"])])}}},bo=He(Mt,[["__scopeId","data-v-9d1dfe20"]]);export{bo as default};
